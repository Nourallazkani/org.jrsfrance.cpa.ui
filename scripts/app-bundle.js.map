{"version":3,"sources":["app.js","common.js","environment.js","i18n.js","main.js","moment-locales.js","resources/index.js","views/about.js","views/home.js","resources/attributes/always-visible.js","resources/attributes/dynamic-text-align.js","resources/attributes/place-autocomplete.js","resources/elements/date-time-input.js","resources/elements/gmap.js","resources/elements/multiple-select.js","resources/value-converters/date-format-value-converter.js","resources/value-converters/object-keys-value-converter.js","views/_components/sign-in-form.js","views/_components/user-form.js","views/organisations/index.js","views/organisations/welcome.js","views/refugees/index.js","views/refugees/welcome.js","views/volunteers/index.js","views/volunteers/welcome.js","views/organisations/events/events.js","views/organisations/language-programs/language-programs.js","views/organisations/professional-programs/professional-programs.js","views/organisations/profile/profile.js","views/organisations/teachings/teachings.js","views/organisations/workshops/workshops.js","views/refugees/events/events.js","views/refugees/language-programs/language-programs.js","views/refugees/meeting-requests/meeting-requests.js","views/refugees/professional-programs/professional-programs.js","views/refugees/profile/profile.js","views/refugees/self-teaching/self-teaching.js","views/refugees/teachings/teachings.js","views/refugees/workshops/workshops.js","views/volunteers/availabilities/availabilities.js","views/volunteers/events/events.js","views/volunteers/meeting-requests/meeting-requests.js","views/volunteers/profile/profile.js"],"names":["App","setUserLanguage","newLanguage","userDetails","language","bindingSignaler","signal","httpClient","router","ea","bindingEngine","compositionTransaction","appConfig","i18nMessages","referenceData","moment","compositionTransactionNotifier","enlist","document","body","style","direction","propertyObserver","subscribe","console","log","currentInstruction","config","name","i18n","key","getMessage","configure","withBaseUrl","apiEndpoint","withDefaults","headers","withInterceptor","request","account","accessKey","set","response","status","url","indexOf","publish","x","domain","fetch","then","resp","json","refresh","results","refreshAll","load","created","localStorage","getItem","window","location","href","split","length","method","done","catch","removeItem","configureRouter","title","options","pushState","hashChange","map","route","moduleId","nav","viewProfile","profile","navigate","signOut","authzAction","navigateToRoute","fragment","getUri","getQueryParam","viewLocation","viewItinerary","getDistance","ApplicationConfig","ReferenceData","source","p","UserDetails","value","setItem","_address","JSON","parse","stringify","path","params","paramsAsArray","push","join","paramName","reg","RegExp","string","exec","Number","prototype","toRad","Math","PI","address","placeName","street1","postalCode","locality","lat","lng","open","address1","address2","from","to","lat1","lng1","lat2","lng2","R","φ1","φ2","Δφ","Δλ","a","sin","cos","c","atan2","sqrt","dM","dKm","round","debug","testing","I18n","defaultLanguage","messages","page","message","translations","Promise","longStackTraces","warnings","wForgottenReturn","aurelia","use","standardConfiguration","globalResources","feature","developmentLogging","plugin","start","setRoot","FrLocale","months","monthsShort","weekdays","weekdaysShort","weekdaysMin","longDateFormat","calendar","relativeTime","ordinalParse","week","ordinal","number","isPM","input","charAt","meridiem","hours","minutes","isLower","ArLocale","PrsLocale","About","Home","i18nMessage","setUserDetails","languageKey","substring","AlwaysVisibleCustomAttribute","Element","element","scrollHandler","pageYOffset","initialPosition","position","top","width","boxSizing","attached","getBoundingClientRect","onscroll","addEventListener","detached","removeEventListener","AbstractDynamicTextAligner","supportedLanguages","textAlignement","includes","textAlign","LtrLeftCustomAttribute","LtrRightCustomAttribute","RtlLeftCustomAttribute","RtlRightCustomAttribute","PlaceAutocompleteCustomAttribute","restrictions","google","maps","event","addDomListener","e","keyCode","preventDefault","types","componentRestrictions","country","autocomplete","places","Autocomplete","navigator","geolocation","getCurrentPosition","coords","latitude","longitude","circle","Circle","center","radius","accuracy","setBounds","getBounds","targetProperty","target","formattedAddress","addListener","place","getPlace","googleObject","formatted_address","placeId","place_id","address_components","forEach","googlePropertyName","geometry","appPlace","street_number","postal_code","googleMapId","userSelectionBinding","DateTimeInputCustomElement","time","format","date","newDate","toDate","newTime","GmapCustomElement","markers","placesChanged","showPlaces","myLatLng","item","marker","Marker","googleMap","organisation","newBoundary","LatLngBounds","extend","fitBounds","mapDiv","getElementsByTagName","Map","zoom","MultipleSelectCustomElement","clear","selected","selection","splice","click","children","ul","display","blur","inputClickEventListener","bodyClickEventListener","parentNode","clickEventListener","MyDateFormatValueConverter","frLocale","arLocale","prsLocale","formaters","defaultFormat","locale","toView","locales","formater","ObjectKeysValueConverter","Object","keys","SignInForm","initialize","action","realm","rememberMe","outcome","newValue","oldValue","processSignIn","successRoute","errors","retrySignIn","password","startPasswordRecoveryRequest","processPasswordRecoveryRequest","cancelSignIn","authz","UserForm","fetchClient","languages","uri","id","showCredentials","showDetails","showIdentity","signUp","state","lastAction","updateProfile","Index","Welcome","firstTime","activate","Events","filter","includePastEvents","includeFutureEvents","organisationId","find","list","new","unshift","save","model","afterSave","responseBody","delete","afterDelete","cancelAction","obj","LanguagePrograms","ProfessionalPrograms","Profile","update","Teachings","Workshops","audience","view","distance","sort","y","startDate","sortByDistance","includeClosedEvents","MeetingRequests","accepted","refugee","r","newItem","refugeeLocation","mailAddress","phoneNumber","cancelNew","confirm","listElement","mr","reSubmit","reportProblem","SelfTeachings","openForRegistration","Availabilities","userLanguage","showMessages","accept","firstContact"],"mappings":"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","file":"app-bundle.js","sourcesContent":["//import 'whatwg-fetch';\n\nimport {UserDetails, ApplicationConfig, ReferenceData, getQueryParam} from 'common'\nimport {I18n} from 'i18n'\n\nimport {inject, BindingEngine, CompositionTransaction} from 'aurelia-framework';\nimport {Router} from 'aurelia-router';\nimport {HttpClient, json} from 'aurelia-fetch-client';\nimport {EventAggregator} from 'aurelia-event-aggregator';\nimport {BindingSignaler} from 'aurelia-templating-resources';\n\nimport moment from 'moment';\n\n@inject(HttpClient, Router, EventAggregator, BindingEngine, BindingSignaler, CompositionTransaction, UserDetails, ApplicationConfig, I18n, ReferenceData)\nexport class App {\n\n  error;\n\n  setUserLanguage(newLanguage) {\n    this.userDetails.language = newLanguage;\n    this.bindingSignaler.signal('language-change');\n\n  }\n\n  constructor(httpClient, router, ea, bindingEngine, bindingSignaler, compositionTransaction, userDetails, appConfig, i18nMessages, referenceData) {\n    //console.log(\"xx\")\n    this.moment = moment;\n    this.httpClient = httpClient;\n    this.ea = ea;\n    this.userDetails = userDetails;\n    this.bindingSignaler = bindingSignaler;\n    this.compositionTransactionNotifier = compositionTransaction.enlist();\n\n    if (userDetails.language == \"ar\" || userDetails.language == \"prs\") {\n      document.body.style.direction = \"rtl\";\n    }\n\n    bindingEngine\n      .propertyObserver(userDetails, 'language')\n      .subscribe((newLanguage) => {\n        console.log(this.router.currentInstruction.config.name != 'home')\n        if (newLanguage == \"ar\" || newLanguage == \"prs\" && this.router.currentInstruction.config.name != 'home') {\n          document.body.style.direction = \"rtl\";\n        }\n        else {\n          document.body.style.direction = \"ltr\";\n        }\n      });\n\n    this.i18n = (key) => i18nMessages.getMessage(\"app\", key, userDetails.language);\n\n\n    this.httpClient.configure(config => {\n      config\n        .withBaseUrl(appConfig.apiEndpoint)\n        .withDefaults({\n          headers: {}\n        })\n        .withInterceptor({\n          request(request) {\n            if (userDetails.account && userDetails.account.accessKey) {\n              request.headers.set(\"AccessKey\", userDetails.account.accessKey);\n            }\n            if (userDetails.language) {\n              request.headers.set(\"Accept-Language\", userDetails.language);\n            }\n            return request;\n          },\n          response(response) {\n            if (response.status >= 400 && response.status <= 599) {\n              if (response.url.indexOf(\"authz/signIn\") == -1 && response.url.indexOf(\"authz/signUp\") == -1) {\n                ea.publish(\"error\", response);\n              }\n              throw response;\n            }\n            else {\n              return response;\n            }\n          }\n        });\n    })\n\n    this.ea.subscribe(\"referenceDataUpdate\", (x) => {\n      if (x && x.domain) {\n        this.httpClient.fetch(`referenceData?noCache=true`)\n          .then(resp => resp.json())\n          .then(results => referenceData.refresh(x.domain, results))\n      }\n      else {\n        this.httpClient.fetch(`referenceData?noCache=true`)\n          .then(resp => resp.json())\n          .then(results => referenceData.refreshAll(x))\n      }\n    });\n\n    this.httpClient.fetch(\"referenceData\")\n      .then(x => x.json())\n      .then(x => referenceData.load(x));\n  }\n\n  created() {\n    if (localStorage.getItem(\"accessKey\") != null || window.location.href.split(\"ak=\").length == 2) {\n\n      let accessKey = localStorage.getItem(\"accessKey\") || getQueryParam(\"ak\")\n      this.httpClient\n        .fetch(\"authentication\", { method: \"POST\", body: json({ accessKey: accessKey }) })\n        .then(x => x.json()).then(account => {\n          this.userDetails.account = account;\n          this.compositionTransactionNotifier.done();\n        }).catch(() => {\n          localStorage.removeItem(\"accessKey\");\n          this.compositionTransactionNotifier.done();\n        });\n    }\n    else {\n      this.compositionTransactionNotifier.done();\n    }\n  }\n\n  configureRouter(config, router) {\n    config.title = 'CPA';\n    config.options.pushState = true;\n    config.options.hashChange = false;\n\n    config.map([\n      { route: ['', 'home'], name: 'home', moduleId: './views/home', nav: true, title: 'Home' },\n      { route: ['about'], name: 'about', moduleId: './views/about', nav: true, title: 'About' },\n      { route: 'refugees', name: 'refugees', moduleId: './views/refugees/index', nav: true, title: 'Réfugiés' },\n      { route: 'volunteers', name: 'volunteers', moduleId: './views/volunteers/index', nav: true, title: 'Bénévoles' },\n      { route: 'organisations', name: 'organisations', moduleId: './views/organisations/index', nav: true, title: 'Organisation' }\n    ]);\n    this.router = router;\n  }\n\n  viewProfile() {\n    if (this.userDetails.account.profile == \"R\") {\n      this.router.navigate(\"refugees/profile\");\n    }\n    else if (this.userDetails.account.profile == \"V\") {\n      this.router.navigate(\"volunteers/profile\");\n    }\n    else if (this.userDetails.account.profile == \"O\") {\n      this.router.navigate(\"organisations/profile\");\n    }\n  }\n\n  signOut() {\n    this.userDetails.account = null;\n    localStorage.removeItem(\"accessKey\");\n    this.authzAction = null;\n    if (this.userDetails.profile != \"R\") {\n      this.userDetails.profile = null;\n      this.router.navigateToRoute(\"home\");\n    }\n    else {\n      if (this.router.currentInstruction.fragment == \"/refugees/profile\") {\n        this.router.navigateToRoute(\"refugees\");\n      }\n    }\n  }\n}\n","import environment from './environment';\n\nexport class ApplicationConfig {\n\n    constructor(){\n        this.apiEndpoint= environment.apiEndpoint;\n    }\n}\n\nexport class ReferenceData {\n\n    load(source) {\n        for (let p in source) {\n            this[p] = source[p];\n        }\n    }\n\n    refreshAll(source) {\n        this.load(source)\n    }\n    refresh(domain, source) {\n        this[domain] = source;\n    }\n}\n\nexport class UserDetails {\n\n    account;\n\n    get language() {\n        return localStorage.getItem(\"language\");\n    }\n\n    set language(value) {\n        localStorage.setItem(\"language\", value);\n    }\n\n    get profile() {\n        return localStorage.getItem(\"profile\");\n    }\n\n    set profile(value) {\n        if (value == null) {\n            localStorage.removeItem(\"profile\");\n        }\n        else {\n            localStorage.setItem(\"profile\", value);\n        }\n    }\n\n\n    get address() {\n        let _address = localStorage.getItem(\"address\");\n        return _address ? JSON.parse(_address) : null;\n    }\n\n    set address(value) {\n        if (value) {\n            localStorage.setItem(\"address\", JSON.stringify(value));\n        }\n        else {\n            localStorage.removeItem(\"address\");\n        }\n    }\n}\nexport function getUri(path, params) {\n    if (!params) {\n        return path\n    }\n    else {\n        var paramsAsArray = []\n        for (let p in params) {\n            let value = params[p]\n            if (value != null) {\n                paramsAsArray.push(p + \"=\" + value)\n            }\n        }\n        if (paramsAsArray.length > 0) {\n            return path + \"?\" + paramsAsArray.join(\"&\")\n        }\n        else {\n            return path;\n        }\n    }\n};\n\nexport function getQueryParam(paramName, url) {\n    let href = url ? url : window.location.href;\n    let reg = new RegExp( '[?&]' + paramName + '=([^&#]*)', 'i' );\n    let string = reg.exec(href);\n    return string ? string[1] : null;\n}\n\nif (typeof (Number.prototype.toRad) === \"undefined\") {\n    Number.prototype.toRad = function () {\n        return this * Math.PI / 180;\n    }\n}\nexport function viewLocation(address) {\n\n    let placeName = `${address.street1},+${address.postalCode}+${address.locality}`;\n    let url = `https://www.google.com/maps/place/${placeName}/${address.lat},${address.lng}`;\n    window.open(url, 'map', \"width=1200,height=600\");\n};\n\nexport function viewItinerary(address1, address2) {\n    console.log(\"inside viewItinerary\")\n    let url = `https://www.google.com/maps/dir/${address1.lat},${address1.lng}/${address2.lat},${address2.lng}`;\n    window.open(url, 'map', \"width=1200,height=600\");\n}\n\nexport function getDistance(from, to) {\n    if (!(from && to && from.lat && from.lat && to.lng && to.lng)) {\n        return null;\n    }\n\n    var lat1 = from.lat;\n    var lng1 = from.lng;\n    var lat2 = to.lat;\n    var lng2 = to.lng;\n\n    var R = 6371e3; // metres\n    var φ1 = lat1.toRad();\n    var φ2 = lat2.toRad();\n    var Δφ = (lat2 - lat1).toRad();\n    var Δλ = (lng2 - lng1).toRad();\n\n    var a = Math.sin(Δφ / 2) * Math.sin(Δφ / 2) +\n        Math.cos(φ1) * Math.cos(φ2) *\n        Math.sin(Δλ / 2) * Math.sin(Δλ / 2);\n    var c = 2 * Math.atan2(Math.sqrt(a), Math.sqrt(1 - a));\n\n    var dM = R * c;\n    var dKm = (R * c) / 1000;\n\n    return Math.round(dKm * 100) / 100;\n}","export default {\n  debug: true,\n  testing: true\n};\n","export class I18n {\n\n    defaultLanguage = \"en\";\n\n    constructor() {\n        this.messages = {\n\n            \"app\": {\n                \"Sign in\": {\n                    \"fr\": \"Connexion\",\n                    \"ar\": \"تسجيل الدخول\",\n                    \"prs\": \"ورود\"\n                },\n                \"Sign up\": {\n                    \"fr\": \"Inscription\",\n                    \"ar\": \"إنشاء حساب\",\n                    \"prs\": \"نام نویسی\"\n                },\n                \"About\": {\n                    \"fr\": \"A propos\",\n                    \"ar\": \"حول\",\n                    \"prs\": \"در باره\"\n                },\n                \"Sign out\": {\n                    \"fr\": \"Déconnexion\",\n                    \"ar\": \"تسجيل الخروج\",\n                    \"prs\": \"خروج\"\n                },\n                \"My profile\": {\n                    \"fr\": \"Mon profil\",\n                    \"ar\": \"ملفّّي الشخصي\",\n                    \"prs\": \"نمایه من\"\n                }\n            },\n\n            \"common\": {\n                \"view list\": {\n                    \"fr\": \"Voir liste\",\n                    \"ar\": \"رؤية القائمة\",\n                    \"prs\": \"دیدن فهرست \"\n                },\n                \"view map\": {\n                    \"fr\": \"Voir carte\",\n                    \"ar\": \"رؤية الخريطة\",\n                    \"prs\": \"دیدن نقشه\"\n                },\n                \"City\": {\n                    \"fr\": \"Ville\",\n                    \"ar\": \"مدينة\",\n                    \"prs\": \"شهر\"\n                },\n                \"Required level\": {\n                    \"fr\": \"Niveau requis\",\n                    \"ar\": \"المستوى المطلوب\",\n                    \"prs\": \"سطح مورد نیاز\"\n                },\n                \"Registration opening\": {\n                    \"fr\": \"Ouverture des inscriptions\",\n                    \"ar\": \"افتتاح التسجيل\",\n                    \"prs\": \"آغاز ثبت نام\"\n                },\n                \"Registration closing\": {\n                    \"fr\": \"Cloture des inscriptions\",\n                    \"ar\": \"إنتهاء التسجيل\",\n                    \"prs\": \"ختم ثبت نام\"\n                },\n                 \"Registration\": {\n                    \"fr\": \"inscriptions\",\n                    \"ar\": \"التسجيل\",\n                    \"prs\": \"ثبت نام\"\n                },\n                \"Sort by distance\": {\n                    \"fr\": \"Classer par proximité\",\n                    \"ar\": \"ترتيب بحسب القرب\",\n                    \"prs\": \"مرتب سازی بر اساس فاصله\"\n                },\n                \"Address\": {\n                    \"fr\": \"Adresse\",\n                    \"ar\": \"العنوان\",\n                    \"prs\": \"آدرس\"\n                },\n                \"Date\": {\n                    \"fr\": \"Date\",\n                    \"ar\": \"التاريخ\",\n                    \"prs\": \"تاریخ\"\n                },\n                \"From\": {\n                    \"fr\": \"Début\",\n                    \"ar\": \"من\",\n                    \"prs\": \"\"\n                },\n                \"To\": {\n                    \"fr\": \"Fin\",\n                    \"ar\": \"إلى\",\n                    \"prs\": \"\"\n                },\n                \"Hour\": {\n                    \"fr\": \"Heure\",\n                    \"ar\": \"الساعة\",\n                    \"prs\": \"ساعت \"\n                },\n                \"Contact\": {\n                    \"fr\": \"Contact\",\n                    \"ar\": \"اتصال\",\n                    \"prs\": \"تماس\"\n                },\n                \"yes\": {\n                    \"fr\": \"oui\",\n                    \"ar\": \"نعم\",\n                    \"prs\": \"بلی\"\n                },\n                \"no\": {\n                    \"fr\": \"non\",\n                    \"ar\": \"لا\",\n                    \"prs\": \"نخیر\"\n                },\n                \"Cancel\": {\n                    \"fr\": \"Annuler\",\n                    \"ar\": \"إلغاء\",\n                    \"prs\": \"\"\n                },\n                \"Save\": {\n                    \"fr\": \"Enregistrer\",\n                    \"ar\": \"حفظ\",\n                    \"prs\": \"\"\n                },\n                 \"Modify\": {\n                    \"fr\": \"Modifier\",\n                    \"ar\": \"تعديل\",\n                    \"prs\": \"\"\n                },\n                \"Link\": {\n                    \"fr\": \"Lien\",\n                    \"ar\": \"رابط\",\n                    \"prs\": \"\"\n                },\n                 \"Delete\": {\n                    \"fr\": \"Supprimer\",\n                    \"ar\": \"حذف\",\n                    \"prs\": \"\"\n                },\n                 \"Are you sure you want to delete this offer?\": {\n                    \"fr\": \"Etes vous sûr de vouloir supprimer ce offre ?\",\n                    \"ar\": \"هل أنتم متأكّدون من حذف هذه العرض؟\",\n                    \"prs\": \"\"\n                },\n                \"Main Information\": {\n                    \"fr\": \"Informations principales\",\n                    \"ar\": \"معلومات أساسيّة\",\n                    \"prs\": \"\"\n                },\n                \"Type\": {\n                    \"fr\": \"Type\",\n                    \"ar\": \"النوع\",\n                    \"prs\": \"\"\n                },\n                 \"Type\": {\n                    \"fr\": \"Type\",\n                    \"ar\": \"النوع\",\n                    \"prs\": \"\"\n                },\n                \"Field of study\": {\n                    \"fr\": \"Domaine d'etude\",\n                    \"ar\": \"مجال الدراسة\",\n                    \"prs\": \"رشته تحصیلی\"\n                }\n            },\n\n\n            \"home\": {\n                \"Refugee or asylum seeker\": {\n                    \"fr\": \"Réfugié ou demandeur d'asile\",\n                    \"ar\": \"لاجئ أو طالب لجوء\",\n                    \"prs\": \"پناهنده یا پناهجو\"\n                },\n                \"I'm a Volunteer\": {\n                    \"fr\": \"Je suis bénévole\",\n                    \"ar\": \"أنا متطوع\",\n                    \"prs\": \"من یک داوطلب هستم\"\n                },\n                \"I can help according to my availability in \": {\n                    \"fr\": \"Je peux aider selon mes disponibilités par\",\n                    \"ar\": \"يمكنني أن أساعد بحسبب وقتي المتاح في \",\n                    \"prs\": \"\"\n                },\n                \"Learning French language\": {\n                    \"fr\": \"L’apprentissage de français\",\n                    \"ar\": \"تعلّم اللغة الفرنسية\",\n                    \"prs\": \"\"\n                },\n                 \"Support in certain hight study formations\": {\n                    \"fr\": \"le soutien pour certaines formations supérieures\",\n                    \"ar\": \"الدعم لبعض مجالات التعليم العالي\",\n                    \"prs\": \"\"\n                },\n                 \"Interpreting\": {\n                    \"fr\": \"l’interprétariat\",\n                    \"ar\": \"الترجمة الفورية\",\n                    \"prs\": \"\"\n                },\n                \"I can present my offers for the refugees so they can find the ones that are most adapted to their needs\": {\n                    \"fr\": \"Je peux présenter mes offres de formation pour les réfugiés afin qu’ils retrouvent celles qui sont les plus adaptées à leurs besoins\",\n                    \"ar\": \"يمكنني أن أنشر عروضي المخصصة للاجئين من أجل أن يختاروا منها ما يناسب حاجاتهم \",\n                    \"prs\": \"\"\n                },\n                \"Sign in\": {\n                    \"fr\" : \"Je me connecte\",\n                    \"ar\": \"أُسجّلُ الدّخول\",\n                    \"prs\": \"\"\n                },\n                \"Sign up\": {\n                    \"fr\" : \"Je m'inscris\",\n                    \"ar\": \"أَطلبُ التسجيل\",\n                    \"prs\": \"\"\n                },\n                \"Watch video\": {\n                    \"fr\" : \"Voir la vidéo\",\n                    \"ar\": \"أُشاهد الفيديو\",\n                    \"prs\": \"\"\n                },\n                \"Back\": {\n                    \"fr\" : \"Retour\",\n                    \"ar\": \"رجوع\",\n                    \"prs\": \"\"\n                }\n            },\n\n            \"sign-in\": {\n                \"Mail address\": {\n                    \"fr\": \"Adresse mail\",\n                    \"ar\": \"البريد الالكتروني\",\n                    \"prs\": \"آدرس ایمیل\"\n                },\n                \"Password\": {\n                    \"fr\": \"Mot de passe\",\n                    \"ar\": \"كلمة المرور\",\n                    \"prs\": \"رمز عبور\"\n                },\n                \"remember me\": {\n                    \"fr\": \"se souvenir de moi\",\n                    \"ar\": \"تذكّرني\",\n                    \"prs\": \"من را به یاد داشته باش\"\n                },\n                \"Sign in\": {\n                    \"fr\": \"Connexion\",\n                    \"ar\": \"تسجيل الدخول\",\n                    \"prs\": \"ورود\"\n                },\n                \"Invalid mail address or password\": {\n                    \"fr\": \"Adresse mail ou mot de passe invalide\",\n                    \"ar\": \" عنوان البريدأو كلمة المرور غير صالح\",\n                    \"prs\": \"آدرس ایمیل یا رمز عبور نادرست است\"\n                },\n                \"Reset my password\": {\n                    \"fr\": \"Réinitialiser mon mot de passe\",\n                    \"ar\": \"إعادة تعيين كلمة مروري\",\n                    \"prs\": \"تنظیم جدید رمز عبور\"\n                },\n                \"Recover password confirmation\": {\n                    \"fr\": \"Un mail vous a été envoyé, il contient un lien permettant de réinitialiser votre mot de passe.\",\n                    \"en\": \"An email has been sent, which contains a link to reset your password.\",\n                    \"ar\": \"تم إرسال رسالة الكترونية (إيميل) تحتوي على رابط إعادة تعيين كلمة مروركم.\",\n                    \"prs\": \"برای تنظیم مجدد رمز عبور، برای شما یک ایمیل شامل یک لینک فرستاده شد\"\n                }\n            },\n\n            \"user-form\": {\n                \"Mail address\": {\n                    \"fr\": \"Adresse mail\",\n                    \"ar\": \"البريد الالكتروني\",\n                    \"prs\": \"آدرس ایمیل\"\n                },\n                \"Phone\": {\n                    \"fr\": \"Téléphone\",\n                    \"ar\": \"الهاتف\",\n                    \"prs\": \"تیلیفون\"\n                },\n                \"Mastered languages\": {\n                    \"fr\": \"Langues maitrisées\",\n                    \"ar\": \"الّلغات المتقنة\",\n                    \"prs\": \"زبان\"\n                },\n                \"Password\": {\n                    \"fr\": \"Mot de passe\",\n                    \"ar\": \"كلمة المرور\",\n                    \"prs\": \"رمز عبور\"\n                },\n                \"First name\": {\n                    \"fr\": \"Prénom\",\n                    \"ar\": \"الاسم\",\n                    \"prs\": \"نام\"\n                },\n                \"Last name\": {\n                    \"fr\": \"Nom\",\n                    \"ar\": \"اسم العائلة\",\n                    \"prs\": \"نام خانوادگی\"\n                },\n                \"City or postal code\": {\n                    \"fr\": \"Ville ou code postal\",\n                    \"ar\": \"المدينة أو رمز المنطقة\",\n                    \"prs\": \"شهر یا کد پستی\"\n                },\n                \"I can offer\": {\n                    \"fr\": \"Je peux proposer\",\n                    \"ar\": \"يمكن أن أقدِّم\",\n                    \"prs\": \"میتوانم پیشنهاد دهم\"\n                },\n                \"I am interested in\": {\n                    \"fr\": \"Je suis intéressé par\",\n                    \"ar\": \"أنا مهتمّ بِـ\",\n                    \"prs\": \"من علاقه مند هستم در\"\n                },\n                \"French lessons\": {\n                    \"fr\": \"Leçons de français\",\n                    \"ar\": \"محادثة فرنسية\",\n                    \"prs\": \"درس های فرانسوی\"\n                },\n                \"Support in studies\": {\n                    \"fr\": \"Support dans les études\",\n                    \"ar\": \"دعم دراسي\",\n                    \"prs\": \"پشتیبانی در مطالعات\"\n                },\n                \"Interpreting\": {\n                    \"fr\": \"Interprétariat\",\n                    \"ar\": \"الترجمة الفورية\",\n                    \"prs\": \"ترجمه\"\n                },\n                \"Cultural or sport activities\": {\n                    \"fr\": \"Activités culturelles ou sportives\",\n                    \"ar\": \"نشاطات ثقافيّة و رياضيّة\",\n                    \"prs\": \"فعالیت های فرهنگی یا ورزشی\"\n                },\n                \"Sign up\": {\n                    \"fr\": \"Je m'inscris\",\n                    \"ar\": \"إنشاء حساب\",\n                    \"prs\": \"نام نویسی\"\n                },\n                \"Update profile\": {\n                    \"fr\": \"Mettre à jour mon profil\",\n                    \"ar\": \"تحديث ملفّي الشخصي\",\n                    \"prs\": \"به روز رسانی نمایه من\"\n                },\n                \"Another acccout is linked to this address\": {\n                    \"fr\": \"Un autre compte est associé à cette adresse\",\n                    \"ar\": \"يوجد حساب آخر مرتبط بهذا العنوان.\",\n                    \"prs\": \"یک حساب دیگر با این آدرس مرتبط است\"\n                }\n            },\n\n            \"refugees/index\": {\n                \"French courses\": {\n                    \"fr\": \"Apprentissage du français\",\n                    \"ar\": \"تعلّم الفرنسية\",\n                    \"prs\": \"آموزش زبان فرانسوی\"\n                },\n                \"University studies\": {\n                    \"fr\": \"Etudes supérieures\",\n                    \"ar\": \"دراسة جامعية\",\n                    \"prs\": \"تحصیلات عالی\"\n                },\n                \"Professional training\": {\n                    \"fr\": \"Formation professionelles\",\n                    \"ar\": \"تدريب مهني\",\n                    \"prs\": \"آموزش های حرفه ای\"\n                },\n                \"Workshops\": {\n                    \"fr\": \"Ateliers socio linguistiques\",\n                    \"ar\": \"ورشات سوسيولغوية\",\n                    \"prs\": \"کار گاه های زبانی ـ اجتماعی\"\n                },\n                \"Events\": {\n                    \"fr\": \"Evenements\",\n                    \"ar\": \"فعّاليات\",\n                    \"prs\": \"برنامه ها\"\n                },\n                \"Self learning\": {\n                    \"fr\": \"Auto apprentissage\",\n                    \"ar\": \"تعليم ذاتي\",\n                    \"prs\": \"روش های خود آموزی زبان\"\n                },\n                \"Meet a volunteer\": {\n                    \"fr\": \"Rencontrer un bénévole\",\n                    \"ar\": \"التقي متطوعاً\",\n                    \"prs\": \"دیدار با یک داوطلب\"\n                },\n            },\n            \"refugees/welcome\": {\n                \"French courses adapted to your needs (higher education, professional French, French for daily life)\": {\n                    \"fr\": \"Des cursus de français selon les besoins (enseignement supérieur, français à visée professionnelle, français pour la vie quotidienne)\",\n                    \"ar\": \"البحث عن عروض لتعلم اللغة الفرنسية حسب الحاجة ( الفرنسية لمتابعة التعليم العالي، الفرنسية للمهنين، الفرنسية للحياة اليومية).\",\n                    \"prs\": \"(زبان فرانسوی مطابق نیاز مندی ها  شما (زبان فرانسوی برای تحصیلات عالی، زبان فرانسوی در بخش آموزش های حرفه ای و زبان فرانسوی برای زندگی روزمره\"\n                },\n                \"Higher education offers with linguistic support\": {\n                    \"fr\": \"Des offres d’études supérieures avec accompagnement linguistique\",\n                    \"ar\": \"البحث عن عروض لمتابعة التعليم العالي مع مرافقة لغوية\",\n                    \"prs\": \"پیشنهاد تحصیلات عالی همراه با پشتیبانی زبانی\"\n                },\n                \"Professional trainings with linguistic support\": {\n                    \"fr\": \"Des offres de formations professionnelles avec accompagnement linguistique\",\n                    \"ar\": \"البحث عن عروض لتدريبات مهنية مع مرافقة لغوية\",\n                    \"prs\": \"پیشنهاد آموزش های حرفه ای همراه با پشتیبانی زبانی\"\n                },\n                \"Workshops to develop communication skills for daily life\": {\n                    \"fr\": \"Ateliers qui visent à développer les compétences de communication pour la vie quotidienne.\",\n                    \"ar\": \"البحث عن ورشات عمل لتطوير مهارات التواصل اللّغوية الضرورية من أجل شؤون الحياة اليومية الاجتماعية.\",\n                    \"prs\": \"کارگاه های آموزشی برای ارتقای مهارت های ارتباطی در زندگی روزمره\"\n                },\n                \"Cultural, sport or recreational activities to improve your French\": {\n                    \"fr\": \"Activités culturelles, sportives ou ludiques en vue de progresser en français\",\n                    \"ar\": \" فعاليات ثقافية أو رياضية أو للترفيه معنية بتعلم الفرنسية\",\n                    \"prs\": \"فعالیت های فرهنگی، ورزشی و یا تفریحی برای بهبود یادگیری زبان فرانسوی\"\n                },\n                \"Directory of all the libraries offering self-learning methods\": {\n                    \"fr\": \"Annuaire des bibliothèques qui proposent et conseillent des méthodes d’auto-apprentissage.\",\n                    \"ar\": \"عناوين المكتبات التي تقترح و توفّر طرق لتعلّم الفرنسية بشكلٍ ذاتي.\",\n                    \"prs\": \"راهنمای کتاب خانه ها برای یاد گیری خود آموزی زبان فرانسوی\"\n                },\n                \"Get in touch with a volunteer for support in learning French, interpreting or other trainings\": {\n                    \"fr\": \"Entrer en relation avec un bénévole pour un accompagnement dans l’apprentissage du français, l’interprétariat, ou d’autres formations.\",\n                    \"ar\": \"البحث عن متطوعين للمساعدة أثناء تعلّم الفرنسية أو في مرحلة التعليم العالي أو المرافقة -عند الحاجة- حين مواعيد الحصول على الأأوراق الرسمية)\",\n                    \"prs\": \"ایجاد رابطه همراه با یک داوطلب برای همراهی در قسمت فراگیری زبان فرانسوی، ترجمه و سایر آموزش های حرفه ای\"\n                }\n            },\n            \"refugees/teachings\": {\n                \"Field of study\": {\n                    \"fr\": \"Domaine d'etude\",\n                    \"ar\": \"مجال الدراسة\",\n                    \"prs\": \"رشته تحصیلی\"\n                }\n            },\n            \"refugees/professional-programs\": {\n                \"Domain\": {\n                    \"fr\": \"Domaine pro\",\n                    \"ar\": \"المجال المهني\",\n                    \"prs\": \"بخش\"\n                }\n            },\n            \"refugees/events\": {\n                \"Organised by\": {\n                    \"fr\": \"Organisé par\",\n                    \"ar\": \"منظمة من قِبل\",\n                    \"prs\": \"ترتیب و تنظیم توسط\"\n                },\n                \"More\": {\n                    \"fr\": \"En savoir plus\",\n                    \"ar\": \"معرفة المزيد\",\n                    \"prs\": \"برای معلومات بیشتر\"\n                }\n            },\n            \"refugees/workshops\": {\n                \"Organised by\": {\n                    \"fr\": \"Organisé par\",\n                    \"ar\": \"منظمة من قِبل\",\n                    \"prs\": \"ترتیب و تنظیم توسط\"\n                },\n                \"More\": {\n                    \"fr\": \"En savoir plus\",\n                    \"ar\": \"معرفة المزيد\",\n                    \"prs\": \"برای معلومات بیشتر\"\n                }\n            },\n            \"refugees/profile\": {\n\n            },\n            \"refugees/meeting-requests\": {\n                \"New appointment request\": {\n                    \"fr\": \"Nouvelle demande de rendez vous\",\n                    \"ar\": \"طلب موعد جديد\",\n                    \"prs\": \"درخواست جدید برای وعده ملاقات\"\n                },\n                \"Accepted requests\": {\n                    \"fr\": \"Demandes acceptées\",\n                    \"ar\": \"الطلبات التي قُبِلت\",\n                    \"prs\": \"\"\n                },\n                \"On Wating requests\": {\n                    \"fr\": \"Demandes en attente\",\n                    \"ar\": \"الطلبات قيد الانتظار\",\n                    \"prs\": \"\"\n                },\n                \"Request type\": {\n                    \"fr\": \"Type de demande\",\n                    \"ar\": \"نوع الموعد\",\n                    \"prs\": \"نوع درخواست\"\n                },\n                \"Interpreting\": {\n                    \"fr\": \"Interprétariat\",\n                    \"ar\": \"ترجمة فورية\",\n                    \"prs\": \"ترجمه\"\n                },\n                \"Support in studies\": {\n                    \"fr\": \"Soutien dans les études\",\n                    \"ar\": \" دعم الدراسي\",\n                    \"prs\": \"پشتیبانی در مطالعات\"\n                },\n                \"French lessons\": {\n                    \"fr\": \"Leçons de français\",\n                    \"ar\": \"دروس الفرنسية \",\n                    \"prs\": \"درس های زبان فرانسوی\"\n                },\n                \"Additional information\": {\n                    \"fr\": \"Informations complémentaires\",\n                    \"ar\": \"معلومات إضافية\",\n                    \"prs\": \"معلومات بیشتر\"\n                },\n                \"optional\": {\n                    \"fr\": \"facultatif\",\n                    \"ar\": \"اختياري\",\n                    \"prs\": \"اختیاری\"\n                },\n                \"Date\": {\n                    \"fr\": \"Date\",\n                    \"ar\": \"التاريخ\",\n                    \"prs\": \"تاریخ\"\n                },\n                \"City or postal code\": {\n                    \"fr\": \"Ville ou code postal\",\n                    \"ar\": \"البلد أو الرمز البريدي\",\n                    \"prs\": \"شهر یا کد پستی\"\n                },\n                \"To contact you\": {\n                    \"fr\": \"Pour vous contacter\",\n                    \"ar\": \"للتواصل معكم\",\n                    \"prs\": \"برای تماس با شما\"\n                },\n                \"Telephone\": {\n                    \"fr\": \"Téléphone\",\n                    \"ar\": \"الهاتف\",\n                    \"prs\": \"تیلیفون\"\n                },\n                \"Mail address\": {\n                    \"fr\": \"Adresse mail\",\n                    \"ar\": \"العنوان البريدي\",\n                    \"prs\": \"آدرس ایمیل\"\n                },\n                \"Send my request\": {\n                    \"fr\": \"Envoyer ma demande\",\n                    \"ar\": \"إرسال طلبي\",\n                    \"prs\": \"فرستادن درخواست من\"\n                },\n                \"Accepted by\": {\n                    \"fr\": \"Accepté par \",\n                    \"ar\": \"قُبِلَ من:\",\n                    \"prs\": \"پذیرفته شده توسط\"\n                },\n                \"Posted the\": {\n                    \"fr\": \"Posté le \",\n                    \"ar\": \"طُلِب في \",\n                    \"prs\": \"فرستاده شده در\"\n                },\n                \"For\": {\n                    \"fr\": \"Pour \",\n                    \"ar\": \"من أجل\",\n                    \"prs\": \"برای\"\n                },\n                \"Region\": {\n                    \"fr\": \"Région\",\n                    \"ar\": \"المنطقة\",\n                    \"prs\": \"منطقه\"\n                },\n                \"My request\": {\n                    \"fr\": \"Ma demande\",\n                    \"ar\": \"طلبي\",\n                    \"prs\": \"درخواست من\"\n                },\n                \"No access, please sign up or sign in\": {\n                    \"fr\": \"Pas d'accès, veuillez s'inscrire ou se connecter\",\n                    \"ar\": \"للوصول لهذه الخدمة، تفضّلوا بإنشاء حساب أو بتسجيل الدخول.\",\n                    \"prs\": \"قابل دسترس نیست، لطفن نام نویسی کنید و یا متصل شودید\"\n                }\n            },\n\n\n\n            \"organisations/welcome\": {\n                \"French courses adapted to your needs (higher education, professional French, French for daily life)\": {\n                    \"fr\": \"Des cursus de français selon les besoins (enseignement supérieur, français à visée professionnelle, français pour la vie quotidienne)\",\n                    \"ar\": \"البحث عن عروض لتعلم اللغة الفرنسية حسب الحاجة ( الفرنسية لمتابعة التعليم العالي، الفرنسية للمهنين، الفرنسية للحياة اليومية).\",\n                    \"prs\": \"(زبان فرانسوی مطابق نیاز مندی ها  شما (زبان فرانسوی برای تحصیلات عالی، زبان فرانسوی در بخش آموزش های حرفه ای و زبان فرانسوی برای زندگی روزمره\"\n                },\n                \"Higher education offers with linguistic support\": {\n                    \"fr\": \"Des offres d’études supérieures avec accompagnement linguistique\",\n                    \"ar\": \"البحث عن عروض لمتابعة التعليم العالي مع مرافقة لغوية\",\n                    \"prs\": \"پیشنهاد تحصیلات عالی همراه با پشتیبانی زبانی\"\n                },\n                \"Professional trainings with linguistic support\": {\n                    \"fr\": \"Des offres de formations professionnelles avec accompagnement linguistique\",\n                    \"ar\": \"البحث عن عروض لتدريبات مهنية مع مرافقة لغوية\",\n                    \"prs\": \"پیشنهاد آموزش های حرفه ای همراه با پشتیبانی زبانی\"\n                },\n                \"Workshops to develop communication skills for daily life\": {\n                    \"fr\": \"Ateliers qui visent à développer les compétences de communication pour la vie quotidienne.\",\n                    \"ar\": \"البحث عن ورشات عمل لتطوير مهارات التواصل اللّغوية الضرورية من أجل شؤون الحياة اليومية الاجتماعية.\",\n                    \"prs\": \"کارگاه های آموزشی برای ارتقای مهارت های ارتباطی در زندگی روزمره\"\n                },\n                \"Cultural, sport or recreational activities to improve your French\": {\n                    \"fr\": \"Activités culturelles, sportives ou ludiques en vue de progresser en français\",\n                    \"ar\": \" فعاليات ثقافية أو رياضية أو للترفيه معنية بتعلم الفرنسية\",\n                    \"prs\": \"فعالیت های فرهنگی، ورزشی و یا تفریحی برای بهبود یادگیری زبان فرانسوی\"\n                }\n            },\n            \"organisations/index\": {\n                 \"French courses\": {\n                    \"fr\": \"Apprentissage du français\",\n                    \"ar\": \"تعلّم الفرنسية\",\n                    \"prs\": \"آموزش زبان فرانسوی\"\n                },\n                \"University studies\": {\n                    \"fr\": \"Etudes supérieures\",\n                    \"ar\": \"دراسة جامعية\",\n                    \"prs\": \"تحصیلات عالی\"\n                },\n                \"Professional training\": {\n                    \"fr\": \"Formation professionelles\",\n                    \"ar\": \"تدريب مهني\",\n                    \"prs\": \"آموزش های حرفه ای\"\n                },\n                \"Workshops\": {\n                    \"fr\": \"Ateliers socio linguistiques\",\n                    \"ar\": \"ورشات سوسيولغوية\",\n                    \"prs\": \"کار گاه های زبانی ـ اجتماعی\"\n                },\n                \"Events\": {\n                    \"fr\": \"Evenements\",\n                    \"ar\": \"فعّاليات\",\n                    \"prs\": \"برنامه ها\"\n                },\n\n            },\n            \"organisations/teachings\": {\n                 \"Create a new teaching\": {\n                    \"fr\": \"Créer un nouvel enseignement\",\n                    \"ar\": \"إنشاء فرصة تعليم جديدة\",\n                    \"prs\": \"\"\n                },\n            },\n            \"organisations/language-programs\": {\n                 \"Include future courses\": {\n                    \"fr\": \"Inclure les cours futurs\",\n                    \"ar\": \"تَضمّن الدروس المستقبلية\",\n                    \"prs\": \"\"\n                },\n                 \"Include past courses\": {\n                    \"fr\": \"Inclure les cours passés\",\n                    \"ar\": \"تَضمّن الدروس الفائتة\",\n                    \"prs\": \"\"\n                },\n                 \"Create a new French course\": {\n                    \"fr\": \"Créer un nouveau cours de français\",\n                    \"ar\": \"إنشاء درس فرنسيّة جديد\",\n                    \"prs\": \"\"\n                },\n            },\n            \"organisations/professional-programs\": {\n                 \"Include future trainings\": {\n                    \"fr\": \"Inclure les formation futures\",\n                    \"ar\": \"تَضمّن التدريبات المستقبلية\",\n                    \"prs\": \"\"\n                },\n                 \"Include past trainings\": {\n                    \"fr\": \"Inclure les formation passées\",\n                    \"ar\": \"تَضمّن التدريبات الفائتة\",\n                    \"prs\": \"\"\n                },\n                 \"Create new professional training\": {\n                    \"fr\": \"Créer une nouvelle formation professionnelle\",\n                    \"ar\": \"إنشاء تدريب مهني جديد\",\n                    \"prs\": \"\"\n                },\n            },\n            \"organisations/events\": {\n                 \"Include\": {\n                    \"fr\": \"Inclure\",\n                    \"ar\": \"تَضمّن\",\n                    \"prs\": \"\"\n                },\n                 \"the workshops\": {\n                    \"fr\": \"les ateliers\",\n                    \"ar\": \"الورشات\",\n                    \"prs\": \"\"\n                },\n                 \"the events\": {\n                    \"fr\": \"les évenements\",\n                    \"ar\": \"الفعّاليّات\",\n                    \"prs\": \"\"\n                },\n                  \"future\": {\n                    \"fr\": \"futurs\",\n                    \"ar\": \"المستقبلية\",\n                    \"prs\": \"\"\n                },\n                  \"past\": {\n                    \"fr\": \"passés\",\n                    \"ar\": \"الفائتة\",\n                    \"prs\": \"\"\n                },\n                 \"Create a new\": {\n                    \"fr\": \"Créer un nouvel\",\n                    \"ar\": \"إنشاء\",\n                    \"prs\": \"\"\n                },\n\n            },\n            \"organisations/workshops\": {\n                 \n            },\n            \"organisations/profile\": {\n\n            },\n\n\n\n            \"volunteers/welcome\": {\n                \"Availabilities\": {\n                    \"fr\": \"Disponibilités\",\n                    \"ar\": \"متاح لـ\",\n                    \"prs\": \"دسترسی\"\n                },\n                \"Events for volunteers\": {\n                    \"fr\": \"Evenements pour les bénévoles\",\n                    \"ar\": \"فعاليات للمتطوعين\",\n                    \"prs\": \"برنامه ها برای داوطلبان\"\n                },\n                \"Methods of teaching\": {\n                    \"fr\": \"Méthodes pour enseigner\",\n                    \"ar\": \"مناهج من أجل التعليم\",\n                    \"prs\": \"روش تدریس\"\n                },\n                \"Meetings\": {\n                    \"fr\": \"Demande de rendez vous\",\n                    \"ar\": \"طلبات المواعيد\",\n                    \"prs\": \"درخواست وعده ملاقات\"\n                }\n            },\n            \"volunteers/availabilities\": {\n                \"Thanks for your registration\": {\n                    \"fr\": \"Merci pour votre inscription\",\n                    \"ar\": \"شكرا لتسجيلكم\",\n                    \"prs\": \"تشکر از ثبت نام شما\"\n                },\n                \"Could you complete your profile by telling us how you wish to help the refugees ?\": {\n                    \"fr\": \"Pourriez vous compléter votre profil en indiquant comment vous souhaitez aider les réfugiés ?\",\n                    \"ar\": \"هل بإمكانكم إكمال حسابكم الشخصي لإخبارنا كيف ترغبون مساعدة اللاجئين ؟\",\n                    \"prs\": \"آیا می توانید نمایه تان را تکمیل نموده و تذکر دهید که چگونه می خواهید پناهندگان را کمک کنید؟\"\n                },\n                \"Explanations\": {\n                    \"fr\": \"Explications\",\n                    \"ar\": \"توضيح\",\n                    \"prs\": \"توضیحات\"\n                },\n\n                \"French lessons\": {\n                    \"fr\": \"Leçons de français\",\n                    \"ar\": \"محادثة فرنسية\",\n                    \"prs\": \"درس های زبان فرانسوی\"\n                },\n                \"Explanations-french-lessons\": {\n                    \"fr\": \"des cours de français, donnés à un réfugié dans les centre d'accueil de demandeurs d'asile (où autre lieu à décidé entre vous et le réfugié). Si vous n'avez jamais enseigné le français à des etrangers n'hésitez pas à consulter la rubrique 'Evenements pour les bénévoles', qui recensent notamment les cours FLE (français langue étrangère). Vous pouvez aussi trouver des méthodes de langues dans la rubrique 'méthodes pour enseigner'\",\n                    \"en\": \"french conversations sessions (+/- 1 hour), where you can help a refugee to improve their french\",\n                    \"ar\": \"جلسات محادثة فرنسية تدوم لـ (+/- ساعة)، بهدف مساعدة لاجئ لتحسين فرنسيته\",\n                    \"prs\": \"جلسات مهاوره به زبان فرانسوی (+/- ۱ ساعت)،‌ فرصتی که می توانید برای بهبود زبان فرانسوی یک پناهنده کمک کنید\"\n                },\n                \"Explanations-address\":{\n                    \"fr\": \"Indiquer votre ville nous permettra de ne vous soliciter que pour les réfugiés qui habitent à proximité. Elle ne sera jamais divuglée sur le site ni communiqué à des tiers. Si vous le souhaitez vous pouvez n'inscrire que votre ville ou votre code postal\",\n                    \"en\": \"Telling us the city where you live will help us to sollicate you help only for refugees who leave in your area. It will <u>never</u> be displayed on the site or given to anyone. If you prefer you can give us only your city or your postal code\",\n                    \"ar\": \" إخبارنا بعنوان سكنكم يسمح لنا بطلب مساعدتكم في حال احتياجها من قبل لاجئ يسكن بالقرب منكم. لن تظهر هذه المعلومات أبدا ولن نرسلها لأي شخص كان!. يمكنكم إذا أردتم أن تزودنا فقط باسم مدينتكم أو برمزها البريدي.\",\n                    \"prs\": \"تذکر شهر برای ما اجازه خواهد داد تا شما بتوانید برای پناهندگان نزدیک شما کمک نمایید، هرگز در سایت منتشر و یا با شخص سومی در میان گذاشته نخواهد شد. اگر خواستید می توانید تنها اسم شهر یا کد پستی تان را بنویسید\"\n                },\n                \"Interpreting\": {\n                    \"fr\": \"Interprétariat\",\n                    \"ar\": \"الترجمة الفورية\",\n                    \"prs\": \"تذکر شهر برای ما اجازه خواهد داد تا شما بتوانید برای پناهندگان نزدیک شما کمک نمایید، هرگز در سایت منتشر و یا با شخص سومی در میان گذاشته نخواهد شد. اگر خواستید می توانید تنها اسم شهر یا کد پستی تان را بنویسید\"\n                },\n                \"Explanations-interpreting\": {\n                    \"fr\": \"Si vous maitrisez une langue étrangère cela peut beaucoup aider les réfugiés, notamment lorsqu'ils ont besoin de se faire comprendre dans l'accomplissement d'une démarche administrative. Même si vous parlez anglais cela peut-être d'une grande aide car beaucoup de réfugiés parlent anglais aussi.\",\n                    \"en\": \"if you master another language it could be a great help for refugees,especially when they need to do an administrative task. Very often they don't speak french well enough to understand clearly the administrative procedure. If you speak english it can be of a great  help since many refugees can speak english as well.\",\n                    \"ar\": \"إذا كنتم تتقنون لغة أخرى فهذا قد يساعد جداً اللاجئين، خصوصا حينما يحتاجون التواصل عند القيام بالمهام الإدارية، إذ أنهم غالبا لا يتكلمون الفرنسية بشكل كاف يسمح لهم بفهم الإجراءات الإدارية بوضوح، فإذا كنتم تتكلمون الانجليزية مثلا، فذلك رائع! حيث معظم اللاجئيين تتكلم الانجليزية.\",\n                    \"prs\": \"گر آشنایی به یک زبان بیرونی دارید،‌ می تواند پناهندگان را خیلی کمک می کند، به ویژه در  پیشبرد امور اداری. حتا اگر به زبان انگلیسی دسترسی دارید می تواند پناهندگان را کمک زیاد نماید چون بیشتر پناهندگان با زبان انگلسی آشنایی دارند\"\n                },\n                \"Support in studies\": {\n                    \"fr\": \"Support dans les études\",\n                    \"ar\": \"الدعم الدراسي\",\n                    \"prs\": \"پشتیبانی در مطالعات\"\n                },\n                \"Explanations-support-in-studies\": {\n                    \"fr\": \"Si vous maitriser un domaine tel que les mathématique, la physique, etc... Accepteriez vous d'aider un réfugié dans ses études ?\",\n                    \"en\": \"if you master a domain like mathematic, physics, ... would you accept to help refugees in their studies ?\",\n                    \"ar\": \"إذا كنتم تتقنون مجالا معيّناً كالرياضيات، أو الفيزياء... فهل تقبلون مساعدة اللاجئين في دراستهم ؟\",\n                    \"prs\": \"اگر آشنایی در یک رشته خاص دارید مانند ریاضی، فیزیک و غیره، آیا می توانید یک پناهنده را در قسمت درس هایش کمک کنید؟\"\n                },\n                \"Cultural or sport activities\": {\n                    \"fr\": \"Activites culturelles ou sportives\",\n                    \"ar\": \"فعّاليات ثقافية و رياضية\",\n                    \"prs\": \"فعالیت های فرهنگی و یا ورزشی\"\n                },\n                \"Explanations-activities\": {\n                    \"fr\": \"Lorem ipsum dolor sit amet, consectetur adipiscing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua. Ut enim ad minim veniam, quis nostrud exercitation ullamco laboris nisi ut aliquip ex ea commodo consequat.\",\n                    \"en\": \"If you have some time to organise some culture and sport activities for the refugees, then it'll be great!\",\n                    \"ar\": \"أذا كان لديكم الوقت لتنظيم بعض النشاطات الثقافية و الرياضيّة فسيكون ذلك من دواعي سرور اللاجئين.\",\n                    \"prs\": \"\"\n                },\n                \"Update availabilities\": {\n                    \"fr\": \"Mettre à jour mes disponibilités\",\n                    \"ar\": \"تحديث معلوماتي\",\n                    \"prs\": \"به روز سازی دسترسی های من\"\n                }\n            },\n            \"volunteers/events\": {\n\n            },\n            \"volunteers/profile\": {\n                \"Thanks for your registration\": {\n                    \"fr\": \"Merci pour votre inscription\",\n                    \"ar\": \"شكرا لتسجيلكم\",\n                    \"prs\": \"تشکر از نام نویسی شما\"\n                },\n                \"Could you complete your profile by telling us how you wish to help the refugees ?\": {\n                    \"fr\": \"Pourriez vous compléter votre profil en indiquant comment vous souhaitez aider les réfugiés ?\",\n                    \"ar\": \"هل بإمكانكم إكمال حسابكم الشخصي لإخبارنا كيف ترغبون مساعدة اللاجئين ؟\",\n                    \"prs\": \"آیا می توانید نمایه تان را تکمیل نموده با اشاره به این که چگونه می خواهید یک پناهنده را کمک کنید؟\"\n                },\n                \"Explanations\": {\n                    \"fr\": \"Explications\",\n                    \"ar\": \"توضيح\",\n                    \"prs\": \"توضیح\"\n                },\n                \"Your address\": {\n                    \"fr\": \"Votre adresse\",\n                    \"ar\": \"عنوانكم\",\n                    \"prs\": \"آدرس شما\"\n                },\n                \"French lessons\": {\n                    \"fr\": \"Leçons de français\",\n                    \"ar\": \"محادثة فرنسية\",\n                    \"prs\": \"درس های زبان فرانسوی\"\n                },\n                \"Explanations-french-lessons\": {\n                    \"fr\": \"des séances de conversation d'une heure, durant lesquels vous aider les réfugiés à améliorer leur français.\",\n                    \"en\": \"french conversations sessions (+/- 1 hour), where you can help a refugee to improve their french\",\n                    \"ar\": \"جلسات محادثة فرنسية تدوم لـ (+/- ساعة)، بهدف مساعدة لاجئ لتحسين فرنسيته\",\n                    \"prs\": \"جلسات مهاوره به زبان فرانسوی (+/- ۱ ساعت)،‌ فرصتی که می توانید برای بهبود زبان فرانسوی یک پناهنده کمک کنید\"\n                },\n                \"Explanations-address\": {\n                    \"fr\": \"Indiquer votre ville nous permettra de ne vous soliciter que pour les réfugiés qui habitent à proximité. Elle ne sera jamais divuglée sur le site ni communiqué à des tiers. Si vous le souhaitez vous pouvez n'inscrire que votre ville ou votre code postal\",\n                    \"en\": \"Telling us the city where you leave will help us to sollicate you help only for refugees who leave in your area. It will <u>never</u> be displayed on the site or given to anyone. If you prefer you can give us only your city or your postal code\",\n                    \"ar\": \" إخبارنا بعنوان سكنكم يسمح لنا بطلب مساعدتكم في حال احتياجها من قبل لاجئ يسكن بالقرب منكم. لن تظهر هذه المعلومات أبدا ولن نرسلها لأي شخص كان!. يمكنكم إذا أردتم أن تزودنا فقط باسم مدينتكم أو برمزها البريدي.\",\n                    \"prs\": \"تذکر شهر برای ما اجازه خواهد داد تا شما بتوانید برای پناهندگان نزدیک شما کمک نمایید، هرگز در سایت منتشر و یا با شخص سومی منتشر یا در میان گذاشته نخواهد شد. اگر خواستید می توانید تنها اسم شهر یا کد پستی تان را بنویسید\"\n                },\n                \"Interpreting\": {\n                    \"fr\": \"Interprétariat\",\n                    \"ar\": \"الترجمة الفورية\",\n                    \"prs\": \"ترجمه\"\n                },\n                \"Explanations-interpreting\": {\n                    \"fr\": \"Si vous maitrisez une langue étrangère cela peut beaucoup aider les réfugiés, notamment lorsqu'ils ont besoin de se faire comprendre dans l'accomplissement d'une démarche administrative. Même si vous parlez anglais cela peut-être d'une grande aide car beaucoup de réfugiés parlent anglais aussi.\",\n                    \"en\": \"if you master another language it could be a great help for refugees,especially when they need to do an administrative task. Very often they don't speak french well enough to understand clearly the administrative procedure. If you speak english it can be of a great  help since many refugees can speak english as well.\",\n                    \"ar\": \"إذا كنتم تتقنون لغة أخرى فهذا قد يساعد جداً اللاجئين، خصوصا حينما يحتاجون التواصل عند القيام بالمهام الإدارية، إذ أنهم غالبا لا يتكلمون الفرنسية بشكل كاف يسمح لهم بفهم الإجراءات الإدارية بوضوح، فإذا كنتم تتكلمون الانجليزية مثلا، فذلك رائع! حيث معظم اللاجئيين تتكلم الانجليزية.\",\n                    \"prs\": \"اگر آشنایی به یک زبان بیرونی دارید،‌ می تواند پناهندگان را خیلی کمک می کند، به ویژه در  پیشبرد امور اداری شان. حتا اگر به زبان انگلیسی دسترسی دارید می تواند پناهندگان را کمک زیاد نماید چون بیشتر پناهندگان با زبان انگلیسی آشنایی دارند\"\n                },\n                \"Support in studies\": {\n                    \"fr\": \"Support dans les études\",\n                    \"ar\": \"الدعم الدراسي\",\n                    \"prs\": \"پشتیبانی در مطالعات\"\n                },\n                \"Explanations-support-in-studies\": {\n                    \"fr\": \"Si vous maitriser un domaine tel que les mathématique, la physique, etc... Accepteriez vous d'aider un réfugié dans ses études ?\",\n                    \"en\": \"if you master a domain like mathematic, physics, ... would you accept to help refugees in their studies ?\",\n                    \"ar\": \"إذا كنتم تتقنون مجالا معيّناً كالرياضيات، أو الفيزياء... فهل تقبلون مساعدة اللاجئين في دراستهم ؟\",\n                    \"prs\": \"اگر آشنایی در یک رشته خاص دارید مانند ریاضی، فیزیک و غیره، آیا می توانید یک پناهنده را در قسمت درس هایش کمک کنید؟\"\n                }\n            },\n            \"volunteers/meeting-requests\": {\n                \"I can answer to this request\": {\n                    \"fr\": \"Je peux répondre à cette demande\",\n                    \"ar\": \"أستطيع الردّ على هذا الطلب\",\n                    \"prs\": \"می توانم به این درخواست پاسخ بگویم\"\n                },\n                \"I cannot answer to this request\": {\n                    \"fr\": \"Je ne peux pas répondre à cette demande\",\n                    \"ar\": \"لا أستطيع الردّ على هذا الطلب\",\n                    \"prs\": \"نمی توانم به این درخواست پاسخ بگویم\"\n                },\n                \"View messages\": {\n                    \"fr\": \"Voir les messages\",\n                    \"ar\": \"رؤية الرسائل\",\n                    \"prs\": \"دیدن پیام ها\"\n                }\n            }\n        }\n    }\n\n    getMessage(page, key, language) {\n        /*\n        if (language == this.defaultLanguage) {\n            return key;\n        }*/\n\n        let message = this.messages[page] || this.messages[\"common\"];\n\n        if (!message) {\n            return key;\n        }\n        let translations = message[key] || this.messages[\"common\"][key];\n        if (!translations) {\n            return key;\n        }\n        return translations[language] || key;\n    }\n}\n","import environment from './environment';\n\n//Configure Bluebird Promises.\nPromise.config({\n  longStackTraces: environment.debug,\n  warnings: {\n    wForgottenReturn: false\n  }\n});\n\nexport function configure(aurelia) {\n  aurelia.use\n    .standardConfiguration()\n        .globalResources('resources/elements/multiple-select')\n        .globalResources('resources/elements/gmap')\n        .globalResources('resources/elements/date-time-input')\n        .globalResources('resources/attributes/place-autocomplete')\n        .globalResources('resources/attributes/dynamic-text-align')\n        .globalResources('resources/attributes/always-visible')\n        .globalResources('resources/value-converters/object-keys-value-converter')\n        .globalResources('resources/value-converters/date-format-value-converter')    \n    .feature('resources');\n\n/*\n  -- env prod => {debug: false, testing: false}\n  -- env stage => {debug: true, testing: false}\n  -- env dev => {debug: true, testing: true}\n  goal : run, build\n */\n  if (environment.debug) {\n    aurelia.use.developmentLogging();\n  }\n\n  if (environment.testing) {\n    environment.apiEndpoint = \"http://localhost:8080/api/\";\n    aurelia.use.plugin('aurelia-testing');\n  }\n  else{\n    environment.apiEndpoint = \"http://api.cpafrance.fr/\";\n  }\n\n  aurelia.start().then(() => aurelia.setRoot());\n}\n","export class FrLocale {\n\n    months = [\"janvier\", \"février\", \"mars\", \"avril\", \"mai\", \"juin\", \"juillet\", \"août\", \"septembre\", \"octobre\", \"novembre\", \"décembre\"];\n    monthsShort = [\"janv.\", \"févr.\", \"mars\", \"avr.\", \"mai\", \"juin\", \"juil.\", \"août\", \"sept.\", \"oct.\", \"nov.\", \"déc.\"];\n    weekdays = [\"dimanche\", \"lundi\", \"mardi\", \"mercredi\", \"jeudi\", \"vendredi\", \"samedi\"];\n    weekdaysShort = [\"dim.\", \"lun.\", \"mar.\", \"mer.\", \"jeu.\", \"ven.\", \"sam.\"];\n    weekdaysMin = [\"Di\", \"Lu\", \"Ma\", \"Me\", \"Je\", \"Ve\", \"Sa\"];\n    longDateFormat = {\n        \"LT\": \"HH:mm\",\n        \"LTS\": \"HH:mm:ss\",\n        \"L\": \"DD/MM/YYYY\",\n        \"LL\": \"D MMMM YYYY\",\n        \"LLL\": \"D MMMM YYYY LT\",\n        \"LLLL\": \"dddd D MMMM YYYY LT\"\n    };\n    calendar = {\n        \"sameDay\": \"[Aujourd'hui à] LT\",\n        \"nextDay\": '[Demain à] LT',\n        \"nextWeek\": 'dddd [à] LT',\n        \"lastDay\": '[Hier à] LT',\n        \"lastWeek\": 'dddd [dernier à] LT',\n        \"sameElse\": 'L'\n    };\n    relativeTime = {\n        \"future\": \"dans %s\",\n        \"past\": \"il y a %s\",\n        \"s\": \"quelques secondes\",\n        \"m\": \"une minute\",\n        \"mm\": \"%d minutes\",\n        \"h\": \"une heure\",\n        \"hh\": \"%d heures\",\n        \"d\": \"un jour\",\n        \"dd\": \"%d jours\",\n        \"M\": \"un mois\",\n        \"MM\": \"%d mois\",\n        \"y\": \"une année\",\n        \"yy\": \"%d années\"\n    };\n    ordinalParse = \"/\\d{1,2}(er|ème)/\";\n    ordinal(number) {\n        return number + (number === 1 ? 'er' : 'ème');\n    };\n    meridiemParse: \"/PD|MD/\";\n    isPM(input) {\n        return input.charAt(0) === \"M\";\n    };\n    // in case the meridiem units are not separated around 12, then implement\n    // this function (look at locale/id.js for an example)\n    // meridiemHour : function (hour, meridiem) {\n    //     return /* 0-23 hour, given meridiem token and hour 1-12 */\n    // },\n    meridiem(hours, minutes, isLower) {\n        return hours < 12 ? 'PD' : 'MD';\n    };\n    week = {\n        \"dow\": 1, // Monday is the first day of the week.\n        \"doy\": 4  // The week that contains Jan 4th is the first week of the year.\n    }\n};\n\nexport class ArLocale {\n\n    months = [\"كانون الثاني\", \"شباط\", \"آذار\", \"نيسان\", \"أيار\", \"حزيران\", \"تموز\", \"آب\", \"أيلول\", \"تشرين الأول\", \"تشرين الثاني\", \"كانون الأول\"];\n    monthsShort = [\"كا ثاني.\", \"شبط.\", \"آذر\", \"نيس.\", \"أيا\", \"حزير\", \"تمو.\", \"آب\", \"أيلو.\", \"تش أول.\", \"تش ثاني.\", \"كا أول.\"];\n    weekdays = [\"الأحد\", \"الاثنين\", \"الثلاثاء\", \"الأربعاء\", \"الخميس\", \"الجمعة\", \"السبت\"];\n    weekdaysShort = [\"أحد.\", \"اثن.\", \"ثلات.\", \"أرب.\", \"خمس.\", \"جمع.\", \"سبت.\"];\n    weekdaysMin = [\"ح\", \"ن\", \"ث\", \"ر\", \"خ\", \"ج\", \"س\"];\n    longDateFormat = {\n        \"LT\": \"HH:mm\",\n        \"LTS\": \"HH:mm:ss\",\n        \"L\": \"DD/MM/YYYY\",\n        \"LL\": \"D MMMM YYYY\",\n        \"LLL\": \"D MMMM YYYY LT\",\n        \"LLLL\": \"dddd D MMMM YYYY LT\"\n    };\n    calendar = {\n        \"sameDay\": \"[اليوم في] LT\",\n        \"nextDay\": '[غداً في] LT',\n        \"nextWeek\": 'dddd [à] LT',\n        \"lastDay\": '[البارحة في] LT',\n        \"lastWeek\": 'dddd [dernier à] LT',\n        \"sameElse\": 'L'\n    };\n    relativeTime = {\n        \"future\": \"dans %s\",\n        \"past\": \"il y a %s\",\n        \"s\": \"quelques secondes\",\n        \"m\": \"une minute\",\n        \"mm\": \"%d minutes\",\n        \"h\": \"une heure\",\n        \"hh\": \"%d heures\",\n        \"d\": \"un jour\",\n        \"dd\": \"%d jours\",\n        \"M\": \"un mois\",\n        \"MM\": \"%d mois\",\n        \"y\": \"une année\",\n        \"yy\": \"%d années\"\n    };\n    ordinalParse = \"/\\d{1,2}(er|ème)/\";\n    ordinal(number) {\n        return number + (number === 1 ? 'er' : 'ème');\n    };\n    meridiemParse: \"/PD|MD/\";\n    isPM(input) {\n        return input.charAt(0) === \"M\";\n    };\n    // in case the meridiem units are not separated around 12, then implement\n    // this function (look at locale/id.js for an example)\n    // meridiemHour : function (hour, meridiem) {\n    //     return /* 0-23 hour, given meridiem token and hour 1-12 */\n    // },\n    meridiem(hours, minutes, isLower) {\n        return hours < 12 ? 'PD' : 'MD';\n    };\n    week = {\n        \"dow\": 1, // Monday is the first day of the week.\n        \"doy\": 4  // The week that contains Jan 4th is the first week of the year.\n    }\n};\n\nexport class PrsLocale {\n\n    months = [\"janvier\", \"février\", \"mars\", \"avril\", \"mai\", \"juin\", \"juillet\", \"août\", \"septembre\", \"octobre\", \"novembre\", \"décembre\"];\n    monthsShort = [\"janv.\", \"févr.\", \"mars\", \"avr.\", \"mai\", \"juin\", \"juil.\", \"août\", \"sept.\", \"oct.\", \"nov.\", \"déc.\"];\n    weekdays = [\"dimanche\", \"lundi\", \"mardi\", \"mercredi\", \"jeudi\", \"vendredi\", \"samedi\"];\n    weekdaysShort = [\"dim.\", \"lun.\", \"mar.\", \"mer.\", \"jeu.\", \"ven.\", \"sam.\"];\n    weekdaysMin = [\"Di\", \"Lu\", \"Ma\", \"Me\", \"Je\", \"Ve\", \"Sa\"];\n    longDateFormat = {\n        \"LT\": \"HH:mm\",\n        \"LTS\": \"HH:mm:ss\",\n        \"L\": \"DD/MM/YYYY\",\n        \"LL\": \"D MMMM YYYY\",\n        \"LLL\": \"D MMMM YYYY LT\",\n        \"LLLL\": \"dddd D MMMM YYYY LT\"\n    };\n    calendar = {\n        \"sameDay\": \"[Aujourd'hui à] LT\",\n        \"nextDay\": '[Demain à] LT',\n        \"nextWeek\": 'dddd [à] LT',\n        \"lastDay\": '[Hier à] LT',\n        \"lastWeek\": 'dddd [dernier à] LT',\n        \"sameElse\": 'L'\n    };\n    relativeTime = {\n        \"future\": \"dans %s\",\n        \"past\": \"il y a %s\",\n        \"s\": \"quelques secondes\",\n        \"m\": \"une minute\",\n        \"mm\": \"%d minutes\",\n        \"h\": \"une heure\",\n        \"hh\": \"%d heures\",\n        \"d\": \"un jour\",\n        \"dd\": \"%d jours\",\n        \"M\": \"un mois\",\n        \"MM\": \"%d mois\",\n        \"y\": \"une année\",\n        \"yy\": \"%d années\"\n    };\n    ordinalParse = \"/\\d{1,2}(er|ème)/\";\n    ordinal(number) {\n        return number + (number === 1 ? 'er' : 'ème');\n    };\n    meridiemParse: \"/PD|MD/\";\n    isPM(input) {\n        return input.charAt(0) === \"M\";\n    };\n    // in case the meridiem units are not separated around 12, then implement\n    // this function (look at locale/id.js for an example)\n    // meridiemHour : function (hour, meridiem) {\n    //     return /* 0-23 hour, given meridiem token and hour 1-12 */\n    // },\n    meridiem(hours, minutes, isLower) {\n        return hours < 12 ? 'PD' : 'MD';\n    };\n    week = {\n        \"dow\": 1, // Monday is the first day of the week.\n        \"doy\": 4  // The week that contains Jan 4th is the first week of the year.\n    }\n};","export function configure(config) {\n  //config.globalResources([]);\n}\n","export class About{\n    \n}","import {inject} from 'aurelia-framework';\nimport {Router} from 'aurelia-router';\n\nimport {UserDetails} from 'common'\nimport {I18n} from 'i18n'\n\n@inject(UserDetails, I18n, Router)\nexport class Home {\n\n    action;\n\n    constructor(userDetails, i18nMessage, router) {\n        this.router = router;\n        this.userDetails = userDetails;\n\n        this.i18n = (key, language) => i18nMessage.getMessage(\"home\", key, language || userDetails.language);\n        this.setUserDetails(null);\n    }\n\n    setUserDetails(profile, languageKey) {\n        this.userDetails.language = languageKey || \"fr\";\n\n        this.userDetails.profile = profile;\n        if (profile == \"R\") {\n            this.router.navigateToRoute('refugees');\n        }\n\n        else if ((profile == \"O\" || profile == \"V\") && this.userDetails.account) {\n            if (this.userDetails.account.accessKey.substring(0, 1) == \"O\" && profile == \"O\") {\n                this.router.navigateToRoute('organisations');\n            }\n            else if (this.userDetails.account.accessKey.substring(0, 1) == \"V\" && profile == \"V\") {\n                this.router.navigateToRoute('volunteers');\n            }\n\n        }\n    }\n}","import {inject} from 'aurelia-framework';\nimport {bindable} from 'aurelia-framework'\n\n@inject(Element)\nexport class AlwaysVisibleCustomAttribute {\n\n    initialPosition;\n\n    constructor(element) {\n        this.element = element;\n        \n        this.scrollHandler = () => {\n            if (window.pageYOffset > this.initialPosition) {\n                this.element.style.position = 'fixed';\n                this.element.style.top = 0;\n                \n                this.element.style.width = '100%';\n                this.element.style.boxSizing='border-box';\n                \n            } else {\n                this.element.style.position = 'relative';\n            }\n        };\n    }\n\n    attached() {\n        this.initialPosition = this.element.getBoundingClientRect().top;\n        window.onscroll = this.scrollHandler;\n        window.addEventListener('scroll', this.scrollHandler, false);\n    }\n\n    detached() {\n        window.removeEventListener('scroll', this.scrollHandler, false);\n    }\n}","import {inject, BindingEngine} from 'aurelia-framework'\nimport {UserDetails} from 'common'\n\nclass AbstractDynamicTextAligner {\n    constructor(element, bindingEngine, userDetails, supportedLanguages, textAlignement) {\n        if (supportedLanguages.includes(userDetails.language)) {\n            element.style.textAlign = textAlignement;\n        }\n        bindingEngine\n            .propertyObserver(userDetails, 'language')\n            .subscribe((newLanguage) => {\n                if (supportedLanguages.includes(newLanguage)) {\n                    element.style.textAlign = textAlignement;\n                }\n            });\n    }\n}\n\n@inject(Element, BindingEngine, UserDetails)\nexport class LtrLeftCustomAttribute extends AbstractDynamicTextAligner {\n\n    constructor(element, bindingEngine, userDetails) {\n        super(element, bindingEngine, userDetails, [\"en\", \"fr\"], \"left\");\n    }\n}\n\n@inject(Element, BindingEngine, UserDetails)\nexport class LtrRightCustomAttribute extends AbstractDynamicTextAligner {\n\n    constructor(element, bindingEngine, userDetails) {\n        super(element, bindingEngine, userDetails, [\"en\", \"fr\"], \"right\");\n    }\n}\n\n@inject(Element, BindingEngine, UserDetails)\nexport class RtlLeftCustomAttribute extends AbstractDynamicTextAligner {\n\n    constructor(element, bindingEngine, userDetails) {\n        super(element, bindingEngine, userDetails, [\"prs\", \"ar\"], \"left\");\n    }\n}\n\n@inject(Element, BindingEngine, UserDetails)\nexport class RtlRightCustomAttribute extends AbstractDynamicTextAligner {\n\n    constructor(element, bindingEngine, userDetails) {\n        super(element, bindingEngine, userDetails, [\"prs\", \"ar\"], \"right\");\n    }\n}","import { inject } from 'aurelia-framework';\nimport { bindable } from 'aurelia-framework'\n\n@inject(Element)\nexport class PlaceAutocompleteCustomAttribute {\n\n    @bindable target;\n    @bindable userSelectionBinding;\n    @bindable targetProperty;\n    @bindable restrictions;\n    element;\n    autocomplete;\n\n    constructor(element) {\n        this.element = element;\n    }\n\n    created() {\n        if (!this.restrictions) {\n            this.restrictions = [\"geocode\"];\n        }\n        else if (this.restrictions == 'regions') {\n            this.restrictions = [\"(regions)\"];\n        }\n    }\n\n    attached() {\n\n        google.maps.event.addDomListener(this.element, 'keydown', function (e) {\n            if (e.keyCode == 13) {\n                console.log('enter')\n                e.preventDefault();\n            }\n        });\n\n        let options = {\n            types: this.restrictions,\n            componentRestrictions: { country: \"fr\" },\n        };\n        this.autocomplete = new google.maps.places.Autocomplete(this.element, options);\n\n        if (navigator.geolocation) {\n            navigator.geolocation.getCurrentPosition(position => {\n                let geolocation = {\n                    lat: position.coords.latitude,\n                    lng: position.coords.longitude\n                };\n                let circle = new google.maps.Circle({\n                    center: geolocation,\n                    radius: position.coords.accuracy\n                });\n                this.autocomplete.setBounds(circle.getBounds());\n            });\n        }\n        this.targetProperty = [this.targetProperty || \"address\"];\n        if (this.target[this.targetProperty] && this.target[this.targetProperty].formattedAddress) {\n            this.element.value = this.target[this.targetProperty].formattedAddress;\n        }\n\n        this.autocomplete.addListener('place_changed', () => {\n            let place = this.autocomplete.getPlace();\n            let googleObject = { formatted_address: place.formatted_address, placeId: place.place_id };\n\n            // extract array elements and map them to object properties.\n            place.address_components.forEach(x => {\n                let googlePropertyName = x.types[0];\n                googleObject[googlePropertyName] = x[\"short_name\"];\n            });\n            googleObject.lat = place.geometry.location.lat();\n            googleObject.lng = place.geometry.location.lng();\n\n            // home made object, will be use for API calls.\n            var appPlace = {};\n            appPlace.formattedAddress = googleObject.formatted_address;\n\n\n            if (googleObject.street_number || googleObject.route) {\n                appPlace.street1 = googleObject.street_number ? googleObject.street_number + \" \" + googleObject.route : googleObject.route;\n            }\n            if (googleObject.postal_code) {\n                appPlace.postalCode = googleObject.postal_code;\n            }\n            appPlace.locality = googleObject.locality.indexOf(\"Paris-\") == 0 ? \"Paris\" : googleObject.locality;\n            appPlace.country = googleObject.country == \"FR\" ? \"France\" : googleObject.country;\n\n            appPlace.lat = googleObject.lat\n            appPlace.lng = googleObject.lng;\n            appPlace.googleMapId = googleObject.placeId;\n\n            this.target[this.targetProperty] = appPlace;\n            if (this.userSelectionBinding) {\n                this.element.value = appPlace[this.userSelectionBinding];\n            }\n        });\n    }\n}","import {bindable, inject, BindingEngine} from 'aurelia-framework'\nimport moment from 'moment';\n\n@inject(BindingEngine)\nexport class DateTimeInputCustomElement {\n\n    @bindable target;\n    @bindable targetProperty;\n    date;\n    time;\n\n    constructor(bindingEngine) {\n        this.bindingEngine = bindingEngine;\n    }\n\n    attached() {\n\n        if (this.target && this.targetProperty) {\n            let value = this.target[this.targetProperty];\n            this.time = moment(value).format(\"HH:mm\");\n            this.date = moment(value).format(\"YYYY-MM-DD\");\n        }\n        this.bindingEngine\n            .propertyObserver(this, 'date')\n            .subscribe((newDate) => {\n                this.date = newDate;\n                if (this.date && this.time) {\n                    this.target[this.targetProperty] = moment(`${this.date} ${this.time}`, \"YYYY/MM/DD HH:mm\").toDate();\n                }\n            });\n        this.bindingEngine\n            .propertyObserver(this, 'time')\n            .subscribe((newTime) => {\n                this.time = newTime;\n                if (this.date && this.time) {\n                    this.target[this.targetProperty] = moment(`${this.date} ${this.time}`, \"YYYY/MM/DD HH:mm\").toDate();\n                }\n            });\n    }\n}","import {inject} from 'aurelia-framework';\nimport {bindable} from 'aurelia-framework'\n\n@inject(Element)\nexport class GmapCustomElement {\n\n    googleMap;\n    markers = [];\n    @bindable center;\n    @bindable places;\n\n    constructor(element) {\n        this.element = element;\n    }\n\n    placesChanged() {\n        this.showPlaces();\n    }\n\n    showPlaces() {\n        for (let p of this.places) {\n            let myLatLng = { lat: p.item.address.lat, lng: p.item.address.lng };\n            let marker = new google.maps.Marker({ position: myLatLng, map: this.googleMap, title: p.item.organisation });\n            this.markers.push(marker);\n        }\n        if (this.googleMap)/* this.googleMap is null if the element is not attached yet*/ {\n            let newBoundary = new google.maps.LatLngBounds();\n            for (let marker of this.markers) {\n                newBoundary.extend(marker.position);\n            }\n            this.googleMap.fitBounds(newBoundary);\n        }\n    }\n\n    attached() {\n        var mapDiv = this.element.getElementsByTagName(\"div\")[0];\n        var center = this.center ? { lat: this.center.lat, lng: this.center.lng } : { lat: 48.866667, lng: 2.333333 };\n        this.googleMap = new google.maps.Map(mapDiv, { center: center, zoom: 8 });\n        this.showPlaces();\n    }\n}","import {bindable, inject} from 'aurelia-framework'\n\n@inject(Element)\nexport class MultipleSelectCustomElement {\n\n    @bindable\n    placeholder;\n\n    @bindable\n    source;\n\n    @bindable\n    selection;\n\n    constructor(element) {\n        this.element = element;\n    }\n\n    clear() {\n        this.source.forEach(x => x.selected = false);\n        this.selection.splice(0, this.selection.length);\n        this.input.value = this.selection.join(\", \");\n    }\n\n    click(e) {\n        e.selected = !e.selected;\n\n        if (e.selected) {\n            this.selection.push(e.item.name);\n        }\n        else {\n            this.selection.splice(this.selection.indexOf(e.item.name), 1);\n        }\n        this.input.value = this.selection.join(\", \");\n    }\n\n\n    bodyClickEventListener;\n    inputClickEventListener;\n\n    attached() {\n        this.input = this.element.children[0];\n        this.ul = this.element.children[1];\n\n        if (this.selection == null) {\n            this.selection = [];\n        }\n        this.source = this.source.map(x => ({ item: x, selected: this.selection.indexOf(x.name) >= 0 }))\n        this.input.value = this.selection.join(\", \");\n\n\n        this.ul.style.width = this.input.getBoundingClientRect().width + \"px\";\n        this.ul.style.display = \"none\";\n\n        this.input.addEventListener(\"focus\", this.input.blur);\n\n        \n        this.inputClickEventListener = (e) => {\n            this.input.blur();\n            this.ul.style.display = this.ul.style.display == \"block\" ? \"none\" : \"block\";\n        };\n        \n        this.input.addEventListener(\"click\", this.inputClickEventListener);\n\n        this.bodyClickEventListener = (e) => {\n            if (e.target.parentNode != this.ul && e.target != this.input) {\n                this.ul.style.display = \"none\";\n            }\n        };\n        document.body.addEventListener('click', this.bodyClickEventListener);\n    }\n\n    detached() {\n        document.body.removeEventListener('click', this.clickEventListener);\n        this.input.removeEventListener(\"click\", this.inputClickEventListener);\n    }\n}","import {UserDetails} from 'common';\n\nimport {inject} from 'aurelia-framework'\nimport moment from 'moment';\nimport {FrLocale, ArLocale, PrsLocale} from 'moment-locales'\n\n// sera utilisation sous le nom myDateFormat\n@inject(UserDetails, FrLocale, ArLocale, PrsLocale)\nexport class MyDateFormatValueConverter {\n\n  formaters = { event: \"D/M/YYYY h:mm:ss a\" }\n  defaultFormat = \"D/M/YYYY\"\n\n  constructor(userDetails, frLocale, arLocale, prsLocale) {\n    this.userDetails = userDetails;\n    moment.locale(\"fr\", frLocale);\n    moment.locale(\"ar\", arLocale);\n    moment.locale(\"prs\", prsLocale);\n  }\n\n  toView(value, format) {\n    let locale = moment.locales().includes(this.userDetails.language) ? this.userDetails.language : \"en\";\n    if (format != null) {\n      return moment(value).locale(locale).format(format);\n    }\n    else {\n      let formater = this.formaters[format];\n      return moment(value).locale(locale).format(formater || this.defaultFormat);\n    }\n  }\n}","export class ObjectKeysValueConverter {\n  toView(value){\n    return value==null ? null :  Object.keys(value);\n  }\n};","import {inject, bindable, BindingEngine} from 'aurelia-framework'\nimport {HttpClient, json} from 'aurelia-fetch-client';\nimport {Router} from 'aurelia-router';\n\nimport {UserDetails} from 'common'\nimport {I18n} from 'i18n'\n\n@inject(HttpClient, Router, BindingEngine, UserDetails, I18n)\nexport class SignInForm {\n\n    action;\n    realm;\n    input;\n    rememberMe;\n    outcome;\n\n    @bindable\n    successRoute = null;\n\n    initialize() {\n        this.action = \"sign-in\";\n        this.input = { realm: this.userDetails.profile };\n        this.rememberMe = false;\n        this.outcome = null;\n    }\n\n    constructor(httpClient, router, bindingEngine, userDetails, i18nMessages) {\n        console.log(\"inside ctor\")\n        this.httpClient = httpClient;\n        this.router = router;\n        this.userDetails = userDetails;\n\n        this.i18n = (key) => i18nMessages.getMessage(\"sign-in\", key, userDetails.language);\n\n        bindingEngine\n            .propertyObserver(userDetails, 'account')\n            .subscribe((newValue, oldValue) => {\n                if (newValue == null) {\n                    this.initialize();\n                }\n            });\n    }\n\n    attached(){\n        this.initialize();\n    }\n\n    processSignIn() {\n        this.httpClient\n            .fetch(\"authentication\", { method: \"POST\", body: json(this.input) })\n            .then(x => x.json()).then(account => {\n\n                this.userDetails.account = account;\n                if (this.userDetails.rememberMe) {\n                    localStorage.setItem(\"accessKey\", account.accessKey);\n                }\n                this.action = null;\n\n                if (this.successRoute) {\n                    this.router.navigate(this.successRoute);\n                }\n            })\n            .catch(e => {\n                if (e.status == 401) {\n                    this.outcome = { status: \"unauthorized\" };\n                }\n                else {\n                    e.json().then(x => this.outcome = { status: \"failure\", errors: x });\n                }\n            })\n    }\n\n    retrySignIn() {\n        this.outcome = null;\n        this.action = \"sign-in\";\n        this.input.password = null;\n    }\n\n    startPasswordRecoveryRequest() {\n        this.action = \"recover-password\";\n        this.input.password = null;\n        this.outcome = null;\n    }\n\n    processPasswordRecoveryRequest() {\n        this.httpClient\n            .fetch(\"authz/passwordRecovery\", { method: \"POST\", body: json(this.input) })\n            .then(() => this.outcome = { status: \"accepted\" })\n    }\n\n    cancelSignIn() {\n        this.authz.action = null;\n    }\n}","import {UserDetails, ReferenceData} from 'common'\nimport {I18n} from 'i18n'\n\nimport {inject, bindable, CompositionTransaction} from 'aurelia-framework'\nimport {Router} from 'aurelia-router';\nimport {HttpClient, json} from 'aurelia-fetch-client';\n\n@inject(HttpClient, Router, CompositionTransaction, UserDetails, ReferenceData, I18n)\nexport class UserForm {\n\n    @bindable showCredentials;\n    @bindable showDetails;\n    @bindable showIdentity;\n    @bindable successRoute;\n    @bindable action; // sign-up or update-profile\n\n    input = { languages: [] };\n    outcome;\n\n    constructor(fetchClient, router, compositionTransaction, userDetails, referenceData, i18nMessages) {\n        this.fetchClient = fetchClient;\n        this.router = router;\n        this.userDetails = userDetails;\n        this.referenceData = referenceData;\n        this.i18n = (key) => i18nMessages.getMessage(\"user-form\", key, userDetails.language);\n        // here we use compositionTransaction because if user has account then input should be bound before the component is rendered.\n        // otherwise <multilple-select></multiple-select> start working with a null input, which causes issues with selection.bind.\n        // So created must explictely call this.compositionTransactionNotifier.done() to trigger the attachement of the custom element.\n        this.compositionTransactionNotifier = compositionTransaction.enlist();\n    }\n\n    created() {\n        if (this.userDetails.account && this.userDetails.account.accessKey) {\n            let uri;\n            if (this.userDetails.account.profile == \"R\") {\n                uri = \"refugees/\" + this.userDetails.account.id;;\n            }\n            else if (this.userDetails.account.profile == \"O\") {\n                uri = \"organisations/\" + this.userDetails.account.id;;\n            }\n            if (this.userDetails.account.profile == \"V\") {\n                uri = \"volunteers/\" + this.userDetails.account.id;;\n            }\n            if (!uri) return;\n            this.fetchClient.fetch(uri)\n                .then(x => x.json())\n                .then(x => {\n                    this.input = x;\n                    this.compositionTransactionNotifier.done();\n                });\n        }\n        else {\n            this.compositionTransactionNotifier.done();\n        }\n    }\n\n\n    attached() {\n        if (!this.userDetails.account) {\n            // to avoid prefilled form if :\n            // user signed up, then sign out, then try to sign up again\n            // user start to fill the form then close it then start to sign up again\n            this.input = { languages: [] };\n        }\n        this.outcome = null;\n        this.showCredentials = (this.showCredentials === true || \"true\" == this.showCredentials);\n        this.showDetails = (this.showDetails === true || \"true\" == this.showDetails);\n        this.showIdentity = (this.showIdentity === true || \"true\" == this.showIdentity);\n    }\n\n    signUp() {\n        this.state = \"saving\";\n        let uri = this.userDetails.profile == \"R\" ? \"refugees\" : \"volunteers\";\n        this.fetchClient.fetch(uri, { body: json(this.input), method: \"post\" })\n            .then(x => x.json())\n            .then(account => {\n                this.state = null;\n                this.userDetails.account = account;\n                localStorage.setItem(\"accessKey\", account.accessKey);\n                this.userDetails.lastAction = \"sign-up\";\n                if (this.successRoute) {\n                    this.router.navigate(this.successRoute);\n                }\n                else {\n                    this.outcome = { status: \"ok\" };\n                }\n            })\n            .catch(e => {\n                this.state = null;\n                if (e.status == 409) {\n                    this.outcome = { status: \"conflict\" };\n                }\n                else {\n                    e.json().then(x => this.outcome = { status: \"failure\", errors: x });\n                }\n            })\n    }\n\n\n    updateProfile() {\n        this.state = \"saving\";\n        let uri = `${this.userDetails.account.profile == \"R\" ? \"refugees\" : \"volunteers\"}/${this.userDetails.account.id}`\n        this.fetchClient.fetch(uri, { body: json(this.input), method: \"put\" })\n            .then(x => {\n                this.state = null;\n                this.outcome = { status: \"ok\" };\n                if (this.userDetails.lastAction == \"sign-up\") {\n                    this.userDetails.lastAction = \"update-profile\";\n                }\n            })\n            .catch(e => {\n                this.state = null;\n                if (e.status == 409) {\n                    this.outcome = { status: \"conflict\" };\n                }\n                else {\n                    return e.json().then(x => this.outcome = { status: \"failure\", errors: x });\n                }\n            })\n    }\n}","import {UserDetails, viewLocation, viewItinerary} from 'common'\nimport {inject} from 'aurelia-framework';\nimport {I18n} from 'i18n';\n\n@inject(UserDetails, I18n)\nexport class Index {\n\n  constructor(userDetails, i18nMessages) {\n    if (userDetails.profile == null) {\n      userDetails.profile = \"O\";\n    }\n    this.viewLocation = viewLocation;\n    this.viewItinerary = viewItinerary;\n    this.i18n = (key) => i18nMessages.getMessage(\"organisations/index\", key, userDetails.language);\n  }\n  configureRouter(config, router) {\n    config.map([\n      { route: '', name: 'organisations/welcome', moduleId: 'views/organisations/welcome', nav: true, title: 'Organisation > Index' },\n      { route: 'teachings', name: 'organisations/teachings', moduleId: 'views/organisations/teachings/teachings', nav: true, title: 'Enseignements supérieurs' },\n      { route: 'language-programs', name: 'organisations/language-programs', moduleId: 'views/organisations/language-programs/language-programs', nav: true, title: 'Apprentissage du français' },\n      { route: 'professional-programs', name: 'organisations/professional-programs', moduleId: 'views/organisations/professional-programs/professional-programs', nav: true, title: 'Apprentissage du français' },\n      { route: 'workshops', name: 'organisations/workshops', moduleId: 'views/organisations/workshops/workshops', nav: true, title: 'Ateliers socio linguistiques' },\n      { route: 'libraries', name: 'organisations/libraries', moduleId: 'views/organisations/libraries/libraries', nav: true, title: 'Auto apprentissage' },\n      { route: 'events', name: 'organisations/events', moduleId: 'views/organisations/events/events', nav: true, title: 'Evenements' },\n      { route: 'profile', name: 'organisations/profile', moduleId: 'views/organisations/profile/profile', nav: true, title: 'Profil' }\n\n    ]);\n\n    this.router = router;\n  }\n}\n","import {UserDetails, viewLocation, viewItinerary} from 'common'\nimport {I18n} from 'i18n'\n\nimport {inject} from 'aurelia-framework';\n\n@inject(UserDetails, I18n)\nexport class Welcome {\n    \n    constructor(userDetails, i18nMessages) {\n        this.i18n = (key) => i18nMessages.getMessage(\"organisations/welcome\", key, userDetails.language);\n    }\n\n}","import {UserDetails, viewLocation, viewItinerary} from 'common'\nimport {I18n} from 'i18n'\n\nimport {inject, BindingEngine} from 'aurelia-framework';\nimport {BindingSignaler} from 'aurelia-templating-resources';\n\n\n@inject(BindingSignaler, BindingEngine, UserDetails, I18n)\nexport class Index {\n\n  constructor(bindingSignaler, bindingEngine, userDetails, i18nMessages) {\n    if (userDetails.profile == null) {\n      userDetails.profile = \"R\";\n    }\n    this.viewLocation = viewLocation;\n    this.viewItinerary = viewItinerary;\n    this.i18n = (key) => i18nMessages.getMessage(\"refugees/index\", key, userDetails.language);\n    \n  }\n\n  configureRouter(config, router) {\n    config.map([\n      { route: '', name: 'refugees/welcome', moduleId: 'views/refugees/welcome', nav: true, title: 'Index' },\n      { route: 'teachings', name: 'refugees/teachings', moduleId: 'views/refugees/teachings/teachings', nav: true, title: 'Enseignements supérieurs' },\n      { route: 'language-programs', name: 'refugees/language-programs', moduleId: 'views/refugees/language-programs/language-programs', nav: true, title: 'Apprentissage du français' },\n      { route: 'professional-programs', name: 'refugees/professional-programs', moduleId: 'views/refugees/professional-programs/professional-programs', nav: true, title: 'Apprentissage du français' },\n      { route: 'workshops', name: 'refugees/workshops', moduleId: 'views/refugees/workshops/workshops', nav: true, title: 'Ateliers socio linguistiques' },\n      { route: 'self-teaching', name: 'refugees/self-teaching', moduleId: 'views/refugees/self-teaching/self-teaching', nav: true, title: 'Auto apprentissage' },\n      { route: 'events', name: 'refugees/events', moduleId: 'views/refugees/events/events', nav: true, title: 'Evenements' },\n      { route: 'meeting-requests', name: 'refugees/meeting-requests', moduleId: 'views/refugees/meeting-requests/meeting-requests', nav: true, title: 'Demande de rendez vous' },\n      { route: 'profile', name: 'refugees/profile', moduleId: 'views/refugees/profile/profile', nav: true, title: 'Profile' },\n    ]);\n\n    this.router = router;\n  }\n}\n","import {UserDetails, viewLocation, viewItinerary} from 'common'\nimport {I18n} from 'i18n'\n\nimport {inject} from 'aurelia-framework';\n\n@inject(UserDetails, I18n)\nexport class Welcome {\n    \n    constructor(userDetails, i18nMessages) {\n        this.i18n = (key) => i18nMessages.getMessage(\"refugees/welcome\", key, userDetails.language);\n    }\n\n}","import {inject} from 'aurelia-framework';\nimport {UserDetails, viewLocation, viewItinerary} from 'common'\n\n@inject(UserDetails)\nexport class Index {\n\n  constructor(userDetails) {\n    if (userDetails.profile == null) {\n      userDetails.profile = \"R\";\n    }\n    this.viewLocation = viewLocation;\n    this.viewItinerary = viewItinerary;\n  }\n\n  configureRouter(config, router) {\n    config.map([\n      { route: '', name: 'volunteers/welcome', moduleId: 'views/volunteers/welcome', nav: true, title: 'Accueil' },\n      { route: 'events', name: 'volunteers/events', moduleId: 'views/volunteers/events/events', nav: true, title: 'Evenements' },\n      { route: 'availabilities', name: 'volunteers/availabilities', moduleId: 'views/volunteers/availabilities/availabilities', nav: true, title: 'Disponibilités' },\n      { route: 'profile', name: 'volunteers/profile', moduleId: 'views/volunteers/profile/profile', nav: true, title: 'Profil' },\n      { route: 'meeting-requests', name: 'volunteers/meeting-requests', moduleId: 'views/volunteers/meeting-requests/meeting-requests', nav: true, title: 'Demande de rendez vous' }\n    ]);\n\n    this.router = router;\n  }\n}\n","export class Welcome {\n\n    firstTime = false;\n    \n    activate(params) {\n        if(params.firstTime){\n            this.firstTime = params.firstTime;\n        }\n    }\n}\n","import {UserDetails, ReferenceData, getUri, viewLocation} from 'common'\n\nimport {inject} from 'aurelia-framework';\nimport {HttpClient, json} from 'aurelia-fetch-client';\nimport { EventAggregator } from 'aurelia-event-aggregator';\nimport {I18n} from 'i18n';\nimport moment from 'moment';\n\n@inject(HttpClient, EventAggregator, UserDetails, ReferenceData, I18n)\nexport class Events {\n\n    results = []\n    filter = { includePastEvents: false, includeFutureEvents: true }\n\n    constructor(fetchClient, ea, userDetails, referenceData, i18nMessages) {\n        this.fetchClient = fetchClient;\n        this.ea = ea;\n        this.userDetails = userDetails;\n        this.moment = moment;\n        this.viewLocation = viewLocation;\n        this.referenceData = referenceData;\n        this.i18n = (key) => i18nMessages.getMessage(\"organisations/events\", key, userDetails.language);\n    }\n\n    created() {\n        this.filter.organisationId = this.userDetails.account.id;\n        this.find();\n    }\n\n    find(language) {\n\n        this.fetchClient\n            .fetch(getUri(\"events\", this.filter))\n            .then(response => response.json())\n            .then(list => this.results = list.map(x => ({ item: x, action: null })));\n    }\n\n    new() {\n        if (this.results.length == 0 || this.results[0].action != 'new') {\n            this.results.unshift({ item: {}, action: 'new' })\n        }\n    }\n\n    save(model) {\n        model.state = \"saving\";\n        \n        let afterSave = (responseBody) => {\n            model.action = null;\n            model.state = null;\n            model.errors = null;\n            if (responseBody) {\n                model.item = responseBody;\n            }\n            this.ea.publish(\"referenceDataUpdate\", { domain: \"cities\" });\n        }\n\n        if (model.action == 'new') {\n            this.fetchClient\n                .fetch(\"events\", { method: \"POST\", body: json(model.item) })\n                .then(response => response.json())\n                .then(x => afterSave(x))\n                .catch(e => e.json().then(x => model.errors = x));\n        }\n        else {\n            this.fetchClient\n                .fetch(`events/${model.item.id}`, { method: \"PUT\", body: json(model.item) })\n                .then(response => afterSave())\n                .catch(e => e.json().then(x => model.errors = x));\n        }\n    }\n\n    delete(model) {\n        let afterDelete = () => {\n            this.results.splice(this.results.indexOf(model), 1);\n            this.ea.publish(\"referenceDataUpdate\", { domain: \"cities\" });\n        }\n        this.fetchClient\n            .fetch(`events/${model.item.id}`, { method: \"DELETE\" })\n            .then(response => afterDelete());\n    }\n\n    cancelAction(obj) {\n        if (obj.action == 'edit' || obj.action == 'delete') {\n            obj.action = null;\n            obj.state = null;\n        }\n        else if (obj.action == 'new') {\n            this.results.splice(0, 1);\n        }\n    }\n}\n","import {UserDetails, ReferenceData, getUri, viewLocation} from 'common'\n\nimport {inject} from 'aurelia-framework';\nimport {HttpClient, json} from 'aurelia-fetch-client';\nimport { EventAggregator } from 'aurelia-event-aggregator';\nimport {I18n} from 'i18n';\nimport moment from 'moment';\n\n@inject(HttpClient, EventAggregator, UserDetails, ReferenceData, I18n)\nexport class LanguagePrograms {\n\n  filter = { includeFutureEvents: true, includePastEvents: false }\n  results = []\n\n  constructor(fetchClient, ea, userDetails, referenceData, i18nMessages) {\n    this.fetchClient = fetchClient;\n    this.ea = ea;\n    this.userDetails = userDetails;\n    this.moment = moment;\n    this.viewLocation = viewLocation;\n    this.referenceData = referenceData;\n    this.i18n = (key) => i18nMessages.getMessage(\"organisations/language-programs\", key, userDetails.language);\n  }\n\n  created() {\n    this.filter.organisationId = this.userDetails.account.id;\n    this.find();\n  }\n\n  find() {\n    this.fetchClient\n      .fetch(getUri(\"learnings/language-programs\", this.filter))\n      .then(response => response.json())\n      .then(list => this.results = list.map(x => ({ item: x, action: null })));\n  }\n\n  new() {\n    if (this.results.length == 0 || this.results[0].action != 'new') {\n      this.results.unshift({ item: {}, action: 'new' })\n    }\n  }\n\n  save(model) {\n    model.state = \"saving\";\n    let afterSave = (responseBody) => {\n      model.action = null;\n      model.state = null;\n      model.errors = null;\n      if (responseBody) {\n        model.item = responseBody;\n      }\n      this.ea.publish(\"referenceDataUpdate\", { domain: \"cities\" })\n    }\n\n    if (model.action == 'new') {\n      this.fetchClient\n        .fetch(\"learnings/language-programs\", { method: \"POST\", body: json(model.item) })\n        .then(response => response.json())\n        .then(x => afterSave(x))\n        .catch(e => e.json().then(x => model.errors = x));\n    }\n    else {\n      this.fetchClient\n        .fetch(\"learnings/language-programs/\" + model.item.id, { method: \"PUT\", body: json(model.item) })\n        .then(response => afterSave())\n        .catch(e => e.json().then(x => model.errors = x));\n    }\n  }\n\n  delete(model) {\n    let afterDelete = () => {\n      this.results.splice(this.results.indexOf(model), 1);\n      this.ea.publish(\"referenceDataUpdate\", { domain: \"cities\" });\n    }\n    this.fetchClient\n      .fetch(\"learnings/language-programs/\" + model.item.id, { method: \"DELETE\" })\n      .then(response => afterDelete());\n  }\n\n  cancelAction(obj) {\n    if (obj.action == 'edit' || obj.action == 'delete') {\n      obj.action = null;\n      obj.state = null;\n    }\n    else if (obj.action == 'new') {\n      this.results.splice(0, 1);\n    }\n  }\n}\n","import {UserDetails, ReferenceData, getUri, viewLocation} from 'common'\n\nimport {inject} from 'aurelia-framework';\nimport {HttpClient, json} from 'aurelia-fetch-client';\nimport { EventAggregator } from 'aurelia-event-aggregator';\nimport {I18n} from 'i18n';\nimport moment from 'moment';\n\n@inject(HttpClient, EventAggregator, UserDetails, ReferenceData, I18n)\nexport class ProfessionalPrograms {\n\n  filter = { includeFutureEvents: true, includePastEvents: false }\n  results = []\n\n  constructor(fetchClient, ea, userDetails, referenceData, i18nMessages) {\n    this.fetchClient = fetchClient\n    this.ea = ea;\n    this.userDetails = userDetails;\n    this.moment = moment;\n    this.viewLocation = viewLocation;\n    this.referenceData = referenceData;\n    this.i18n = (key) => i18nMessages.getMessage(\"organisations/professional-programs\", key, userDetails.language);\n  }\n\n  created() {\n    this.filter.organisationId = this.userDetails.account.id;\n    this.find();\n  }\n\n  find() {\n    this.fetchClient\n      .fetch(getUri(\"learnings/professional-programs\", this.filter))\n      .then(response => response.json())\n      .then(list => this.results = list.map(x => ({ item: x, action: null })));\n  }\n\n  new() {\n    if (this.results.length == 0 || this.results[0].action != 'new') {\n      this.results.unshift({ item: {}, action: 'new' })\n    }\n  }\n\n  save(model) {\n    model.state = \"saving\";\n    let afterSave = (responseBody) => {\n      model.action = null;\n      model.state = null;\n      model.errors = null;\n      if (responseBody) {\n        model.item = responseBody;\n      }\n      this.ea.publish(\"referenceDataUpdate\", { domain: \"cities\" })\n    }\n\n    if (model.action == 'new') {\n      this.fetchClient\n        .fetch(\"learnings/professional-programs\", { method: \"POST\", body: json(model.item) })\n        .then(response => response.json())\n        .then(x => afterSave(x))\n        .catch(e => e.json().then(x => model.errors = x));\n    }\n    else {\n      this.fetchClient\n        .fetch(\"learnings/professional-programs/\" + model.item.id, { method: \"PUT\", body: json(model.item) })\n        .then(response => afterSave())\n        .catch(e => e.json().then(x => model.errors = x));\n    }\n  }\n\n  delete(model) {\n    let afterDelete = () => {\n      this.results.splice(this.results.indexOf(model), 1);\n      this.ea.publish(\"referenceDataUpdate\", { domain: \"cities\" });\n    }\n    this.fetchClient\n      .fetch(\"learnings/professional-programs/\" + model.item.id, { method: \"DELETE\" })\n      .then(response => afterDelete());\n  }\n\n  cancelAction(obj) {\n    if (obj.action == 'edit' || obj.action == 'delete') {\n      obj.action = null;\n      obj.state = null;\n    }\n    else if (obj.action == 'new') {\n      this.results.splice(0, 1);\n    }\n  }\n}\n","import {UserDetails, ReferenceData} from 'common'\nimport {I18n} from 'i18n'\n\nimport {inject} from 'aurelia-framework';\nimport {HttpClient, json} from 'aurelia-fetch-client';\n\n@inject(HttpClient, UserDetails, ReferenceData, I18n)\nexport class Profile {\n\n    constructor(fetchClient, userDetails, referenceData, i18nMessages) {\n        this.fetchClient = fetchClient;\n        this.referenceData = referenceData;\n        this.userDetails = userDetails;\n\n        this.i18n = (key) => i18nMessages.getMessage(\"organisations/profile\", key, userDetails.language);\n    }\n\n    created() {\n        let uri = \"organisations/\" + this.userDetails.account.id;\n        this.fetchClient.fetch(uri)\n            .then(x => x.json())\n            .then(x => this.input = x);\n    }\n\n    update() {\n        this.fetchClient.fetch(\"organisations/\" + this.userDetails.account.id, { method: \"put\", body: json(this.input) })\n            .then(x => { this.outcome = \"success\", this.errors = null })\n            .catch(e => e.json().then(x => this.errors = x));;\n    }\n}","import {UserDetails, ReferenceData, getUri, viewLocation} from 'common'\n\nimport {inject} from 'aurelia-framework';\nimport {HttpClient, json} from 'aurelia-fetch-client';\nimport { EventAggregator } from 'aurelia-event-aggregator';\nimport {I18n} from 'i18n';\nimport moment from 'moment';\n\n@inject(HttpClient, EventAggregator, UserDetails, ReferenceData, I18n)\nexport class Teachings {\n\n  filter = { includeFutureEvents: true, includePastEvents: false }\n  results = []\n\n  constructor(fetchClient, ea, userDetails, referenceData, i18nMessages) {\n    this.fetchClient = fetchClient;\n    this.ea = ea;\n    this.userDetails = userDetails;\n    this.moment = moment;\n    this.viewLocation = viewLocation;\n    this.i18n = (key) => i18nMessages.getMessage(\"organisations/teachings\", key, userDetails.language);\n    this.referenceData = referenceData;\n  }\n\n  created() {\n    this.filter.organisationId = this.userDetails.account.id;\n    this.find();\n  }\n\n  find() {\n    this.fetchClient\n      .fetch(getUri(\"teachings\", this.filter))\n      .then(response => response.json())\n      .then(results => this.results = results.map(x => ({ item: x, action: null })));\n  }\n\n  new() {\n    if (this.results.length == 0 || this.results[0].action != 'new') {\n      this.results.unshift({ item: {}, action: 'new' })\n    }\n  }\n\n  save(model) {\n    model.state = \"saving\";\n    let afterSave = (responseBody) => {\n      model.action = null;\n      model.state = null;\n      model.errors = null;\n      if (responseBody) {\n        model.item = responseBody;\n      }\n      this.ea.publish(\"referenceDataUpdate\", { domain: \"cities\" });\n    }\n\n    if (model.action == 'new') {\n      this.fetchClient\n        .fetch(\"teachings\", { method: \"POST\", body: json(model.item) })\n        .then(response => response.json())\n        .then(x => afterSave(x))\n        .catch(e => e.json().then(x => model.errors = x));\n    }\n    else {\n      this.fetchClient\n        .fetch(\"teachings/\" + model.item.id, { method: \"PUT\", body: json(model.item) })\n        .then(response => afterSave())\n        .catch(e => e.json().then(x => model.errors = x));\n    }\n  }\n\n  delete(model) {\n    this.fetchClient\n      .fetch(\"teachings/\" + model.item.id, { method: \"DELETE\" })\n      .then(() => this.results.splice(this.results.indexOf(model), 1));\n  }\n\n  cancelAction(obj) {\n    if (obj.action == 'edit' || obj.action == 'delete') {\n      obj.action = null;\n      obj.state = null;\n    }\n    else if (obj.action == 'new') {\n      this.results.splice(0, 1);\n    }\n  }\n}\n","\nimport {UserDetails, ReferenceData, getUri, getDistance, viewLocation} from 'common'\n\nimport {inject} from 'aurelia-framework';\nimport {HttpClient, json} from 'aurelia-fetch-client';\nimport { EventAggregator } from 'aurelia-event-aggregator';\nimport {I18n} from 'i18n';\nimport moment from 'moment';\n\n@inject(HttpClient, EventAggregator, UserDetails, ReferenceData, I18n)\nexport class Workshops {\n\n  filter = { includeFutureEvents: true, includePastEvents: false }\n  results = []\n\n  constructor(fetchClient, ea, userDetails, referenceData, i18nMessages) {\n    this.fetchClient = fetchClient;\n    this.ea = ea;\n    this.userDetails = userDetails;\n    this.moment = moment;\n    this.viewLocation = viewLocation;\n    this.referenceData = referenceData;\n    this.i18n = (key) => i18nMessages.getMessage(\"organisations/events\", key, userDetails.language);\n  }\n\n  created() {\n    this.filter.organisationId = this.userDetails.account.id;\n    this.find();\n  }\n\n  find() {\n    this.fetchClient\n      .fetch(getUri(\"workshops\", this.filter))\n      .then(response => response.json())\n      .then(list => this.results = list.map(x => ({ item: x, action: null })));\n  }\n\n  new() {\n    if (this.results.length == 0 || this.results[0].action != 'new') {\n      this.results.unshift({ item: { audience: 'REFUGEE' }, action: 'new' })\n    }\n  }\n\n  save(model) {\n    model.state = \"saving\";\n    let afterSave = (responseBody) => {\n      model.action = null;\n      model.state = null;\n      if (responseBody) {\n        model.item = responseBody;\n      }\n      this.ea.publish(\"referenceDataUpdate\", { domain: \"cities\" });\n    }\n\n    if (model.action == 'new') {\n      this.fetchClient\n        .fetch(\"workshops\", { method: \"POST\", body: json(model.item) })\n        .then(response => response.json())\n        .then(x => afterSave(x))\n        .catch(e => e.json().then(x => model.errors = x));\n    }\n    else {\n      this.fetchClient\n        .fetch(`workshops/${model.item.id}`, { method: \"PUT\", body: json(model.item) })\n        .then(response => afterSave())\n        .catch(e => e.json().then(x => model.errors = x));\n    }\n  }\n\n  delete(model) {\n    let afterDelete = () => {\n      this.results.splice(this.results.indexOf(model), 1);\n      this.ea.publish(\"referenceDataUpdate\", { domain: \"cities\" });\n    }\n    this.fetchClient\n      .fetch(`workshops/${model.item.id}`, { method: \"DELETE\" })\n      .then(response => afterDelete());\n  }\n\n  cancelAction(obj) {\n    if (obj.action == 'edit' || obj.action == 'delete') {\n      obj.action = null;\n      obj.state = null;\n    }\n    else if (obj.action == 'new') {\n      this.results.splice(0, 1);\n    }\n  }\n}\n","import {UserDetails, ReferenceData, getUri, getDistance, viewLocation, viewItinerary} from 'common'\nimport {I18n} from 'i18n'\n\nimport {inject, BindingEngine} from 'aurelia-framework';\nimport {HttpClient} from 'aurelia-fetch-client';\n//import {BindingSignaler} from 'aurelia-templating-resources';\n\nimport moment from 'moment';\n\n@inject(HttpClient, BindingEngine, UserDetails, I18n, ReferenceData)\nexport class Events {\n\n  results = []\n  filter = { includePastEvents: false, includeFutureEvents: true, audience: \"REFUGEE\" }\n  view = \"list\";\n\n  constructor(fetchClient, bindingEngine, userDetails, i18nMessages, referenceData) {\n    this.fetchClient = fetchClient\n    this.userDetails = userDetails;\n    this.moment = moment;\n    this.viewLocation = viewLocation;\n    this.viewItinerary = viewItinerary;\n    this.referenceData = referenceData;\n\n    this.i18n = (key) => i18nMessages.getMessage(\"refugees/events\", key, userDetails.language);\n\n    this.find();\n\n    bindingEngine\n      .propertyObserver(userDetails, 'language')\n      .subscribe((newValue, oldValue) => this.find(this.view, newValue));\n  }\n\n  find(view, language) {\n    if (view) {\n      this.view = view;\n    }\n    this.fetchClient\n      .fetch(getUri(\"events\", this.filter))\n      .then(response => response.json())\n      .then(json => json\n        .map(x => ({ item: x, distance: getDistance(x.address, this.userDetails.address) }))\n        .sort((x, y) => moment(x.item.startDate) - moment(y.item.startDate))\n      )\n      .then(results => this.results = results);\n  }\n\n  sortByDistance() {\n    if (this.userDetails.address) {\n      this.results.forEach(x => x.distance = getDistance(x.item.address, this.userDetails.address));\n      this.results = this.results.sort((x, y) => x.distance - y.distance);\n    }\n  }\n}","import {UserDetails, ReferenceData, getUri, getDistance, viewLocation, viewItinerary} from 'common'\nimport {I18n} from 'i18n'\n\nimport {inject} from 'aurelia-framework';\nimport {HttpClient} from 'aurelia-fetch-client';\n\nimport moment from 'moment';\n\n@inject(HttpClient, UserDetails, I18n, ReferenceData)\nexport class LanguagePrograms {\n\n  filter = { includeClosedEvents: false }\n  results = []\n  view = \"list\";\n\n  constructor(fetchClient, userDetails, i18nMessages, referenceData) {\n    this.fetchClient = fetchClient\n    this.userDetails = userDetails;\n    this.moment = moment;\n    this.viewLocation = viewLocation;\n    this.viewItinerary = viewItinerary;\n    this.referenceData = referenceData;\n\n    this.i18n = (key) => i18nMessages.getMessage(\"refugees/language-programs\", key, userDetails.language);\n\n    this.find();\n  }\n\n  find(view) {\n    if (view) {\n      this.view = view;\n    }\n\n    this.fetchClient\n      .fetch(getUri(\"learnings/language-programs\", this.filter))\n      .then(response => response.json())\n      .then(json => json\n        .map(x => ({ item: x, distance: getDistance(x.address, this.userDetails.address) }))\n        .sort((x, y) => moment(x.item.startDate) - moment(y.item.startDate))\n      )\n      .then(results => this.results = results);\n  }\n\n  sortByDistance() {\n    if (this.userDetails.address) {\n      this.results.forEach(x => x.distance = getDistance(x.item.address, this.userDetails.address));\n      this.results = this.results.sort((x, y) => x.distance - y.distance);\n    }\n  }\n}\n","import {UserDetails, ReferenceData, getUri} from 'common'\nimport {I18n} from 'i18n'\n\nimport {inject, BindingEngine} from 'aurelia-framework';\nimport {HttpClient, json} from 'aurelia-fetch-client';\n\nimport moment from 'moment';\n\n@inject(HttpClient, BindingEngine, UserDetails, I18n, ReferenceData)\nexport class MeetingRequests {\n\n  filter = { accepted: \"false\" }\n  results = []\n  refugee;\n\n  constructor(fetchClient, bindingEngine, userDetails, i18nMessages, referenceData) {\n    this.fetchClient = fetchClient\n    this.userDetails = userDetails;\n    this.moment = moment;\n    this.referenceData = referenceData;\n\n    this.i18n = (key) => i18nMessages.getMessage(\"refugees/meeting-requests\", key, userDetails.language);\n    if (this.userDetails.account && this.userDetails.account.profile == \"R\") {\n      this.initialize();\n    }\n    else {\n      bindingEngine\n        .propertyObserver(userDetails, 'account')\n        .subscribe((account) => {\n          if (account && account.profile == \"R\") {\n            this.initialize();\n          }\n        });\n    }\n  }\n\n\n  initialize() {\n    this.fetchClient\n      .fetch(`refugees/${this.userDetails.account.id}`)\n      .then(response => response.json())\n      .then(r => this.refugee = r)\n      .then(() => this.find());\n  }\n\n  find() {\n    this.fetchClient\n      .fetch(getUri(`refugees/${this.userDetails.account.id}/meeting-requests`, this.filter))\n      .then(response => response.json())\n      .then(list => this.results = list.map(x => ({ item: x, action: null })));\n  }\n\n\n  new() {\n    if (this.results.length == 0 || this.results[0].action != 'new') {\n      let newItem = {\n        refugeeLocation: this.userDetails.address,\n        refugee: {\n          mailAddress: this.refugee.mailAddress,\n          phoneNumber: this.refugee.phoneNumber\n        }\n      };\n\n      this.results.unshift({ item: newItem, action: 'new' })\n    }\n  }\n\n  save(model) {\n    model.state = \"saving\";\n    this.fetchClient\n      .fetch(`refugees/${this.userDetails.account.id}/meeting-requests`, { method: \"POST\", body: json(model.item) })\n      .then(response => response.json())\n      .then(x => {\n        model.action = null;\n        model.state = null;\n        model.item = x;\n      })\n      .catch(e => e.json().then(x => model.errors = x))\n      ;\n  }\n\n  cancelNew() {\n    this.results.splice(0, 1);\n  }\n\n\n  confirm(listElement) {\n    let uri = `refugees/${this.userDetails.account.id}/meeting-requests/${listElement.item.id}?confirmed=true`;\n    this.fetchClient\n      .fetch(uri, { method: \"POST\" })\n      .then(resp => resp.json())\n      .then(mr => {\n        listElement.item = mr;\n        listElement.action = null;\n      });\n  }\n\n  reSubmit(listElement) {\n    let uri = `refugees/${this.userDetails.account.id}/meeting-requests/${listElement.item.id}?confirmed=false`;\n    this.fetchClient\n      .fetch(uri, { method: \"POST\" })\n      .then(resp => resp.json())\n      .then(mr => {\n        listElement.item = mr;\n        listElement.action = null;\n      });\n  }\n\n  reportProblem(listElement){\n    listElement.action = null;\n  }\n}\n","import {UserDetails, ReferenceData, getUri, getDistance, viewLocation, viewItinerary} from 'common'\nimport {I18n} from 'i18n'\n\nimport {inject} from 'aurelia-framework';\nimport {HttpClient} from 'aurelia-fetch-client';\n\nimport moment from 'moment';\n\n@inject(HttpClient, UserDetails, I18n, ReferenceData)\nexport class ProfessionalPrograms {\n\n  filter = { includeClosedEvents: false }\n  results = []\n  view = \"list\";\n\n  constructor(fetchClient, userDetails, i18nMessages, referenceData) {\n    this.fetchClient = fetchClient\n    this.userDetails = userDetails;\n    this.moment = moment;\n    this.viewLocation = viewLocation;\n    this.viewItinerary = viewItinerary;\n    this.referenceData = referenceData;\n\n    this.i18n = (key) => i18nMessages.getMessage(\"refugees/professional-programs\", key, userDetails.language);\n\n    this.find();\n  }\n\n  find(view) {\n    if (view) {\n      this.view = view;\n    }\n    this.fetchClient\n      .fetch(getUri(\"learnings/professional-programs\", this.filter))\n      .then(response => response.json())\n      .then(json => json\n        .map(x => ({ item: x, distance: getDistance(x.address, this.userDetails.address) }))\n        .sort((x, y) => moment(x.item.startDate) - moment(y.item.startDate))\n      )\n      .then(results => this.results = results);\n  }\n\n  sortByDistance() {\n    if (this.userDetails.address) {\n      this.results.forEach(x => x.distance = getDistance(x.item.address, this.userDetails.address));\n      this.results = this.results.sort((x, y) => x.distance - y.distance);\n    }\n  }\n}\n","import {UserDetails, ReferenceData} from 'common'\nimport {I18n} from 'i18n'\n\nimport {inject} from 'aurelia-framework';\n\n\n@inject(UserDetails, ReferenceData, I18n)\nexport class Profile {\n\n    constructor(userDetails, referenceData, i18nMessages) {\n        this.referenceData = referenceData;\n        this.userDetails = userDetails;\n        this.i18n = (key) => i18nMessages.getMessage(\"refugees/profile\", key, userDetails.language);\n    }\n}","import {UserDetails, ReferenceData, getUri, getDistance, viewLocation, viewItinerary} from 'common'\nimport {I18n} from 'i18n'\n\nimport {inject} from 'aurelia-framework';\nimport {HttpClient} from 'aurelia-fetch-client';\n\nimport moment from 'moment';\n\n@inject(HttpClient, UserDetails, I18n, ReferenceData)\nexport class SelfTeachings {\n\n  filter = { }\n  results = []\n  view = \"list\";\n\n  constructor(fetchClient, userDetails, i18nMessages, referenceData) {\n    this.fetchClient = fetchClient\n    this.userDetails = userDetails;\n    this.moment = moment;\n    this.viewLocation = viewLocation;\n    this.viewItinerary = viewItinerary;\n    this.referenceData = referenceData;\n\n    this.i18n = (key) => i18nMessages.getMessage(\"refugees/self-teachings\", key, userDetails.language);\n\n    this.find();\n  }\n\n  find(view) {\n    if (view) {\n      this.view = view;\n    }\n    this.fetchClient\n      .fetch(getUri(\"libraries\", this.filter))\n      .then(response => response.json())\n      .then(json => json\n        .map(x => ({ item: x, distance: getDistance(x.address, this.userDetails.address) }))\n      )\n      .then(results => this.results = results);\n  }\n\n  sortByDistance() {\n    if (this.userDetails.address) {\n      this.results.forEach(x => x.distance = getDistance(x.item.address, this.userDetails.address));\n      this.results = this.results.sort((x, y) => x.distance - y.distance);\n    }\n  }\n}\n","import {UserDetails, ReferenceData, getUri, getDistance, viewLocation, viewItinerary} from 'common'\nimport {I18n} from 'i18n'\n\nimport {inject} from 'aurelia-framework';\nimport {HttpClient} from 'aurelia-fetch-client';\n\nimport moment from 'moment';\n\n@inject(HttpClient, UserDetails, I18n, ReferenceData)\nexport class Teachings {\n\n  filter = { openForRegistration: true }\n  results = []\n  view = \"list\";\n\n  constructor(fetchClient, userDetails, i18nMessages, referenceData) {\n    this.fetchClient = fetchClient\n    this.userDetails = userDetails;\n    this.moment = moment;\n    this.viewLocation = viewLocation;\n    this.viewItinerary = viewItinerary;\n    this.referenceData = referenceData;\n\n    this.i18n = (key) => i18nMessages.getMessage(\"refugees/teachings\", key, userDetails.language);\n\n    this.find();\n  }\n\n  find(view) {\n    if (view) {\n      this.view = view;\n    }\n    this.fetchClient\n      .fetch(getUri(\"teachings\", this.filter))\n      .then(response => response.json())\n      .then(json => json\n        .map(x => ({ item: x, distance: getDistance(x.address, this.userDetails.address) }))\n        .sort((x, y) => moment(x.item.startDate) - moment(y.item.startDate))\n      )\n      .then(results => this.results = results);\n  }\n\n  sortByDistance() {\n    if (this.userDetails.address) {\n      this.results.forEach(x => x.distance = getDistance(x.item.address, this.userDetails.address));\n      this.results = this.results.sort((x, y) => x.distance - y.distance);\n    }\n  }\n}\n","import {UserDetails, ReferenceData, getUri, getDistance, viewLocation, viewItinerary} from 'common'\nimport {I18n} from 'i18n'\n\nimport {inject, BindingEngine} from 'aurelia-framework';\nimport {HttpClient} from 'aurelia-fetch-client';\n\nimport moment from 'moment';\n\n@inject(HttpClient, BindingEngine, UserDetails, I18n, ReferenceData)\nexport class Workshops {\n\n  filter = { openForRegistration: true, audience: \"REFUGEE\" }\n  stereotype: \"WORKSHOP\";\n  results = []\n  view = \"list\";\n\n  constructor(fetchClient, bindingEngine, userDetails, i18nMessages, referenceData) {\n    this.fetchClient = fetchClient\n    this.userDetails = userDetails;\n    this.moment = moment;\n    this.viewLocation = viewLocation;\n    this.viewItinerary = viewItinerary;\n    this.referenceData = referenceData;\n\n\n    this.i18n = (key) => i18nMessages.getMessage(\"refugees/workshops\", key, userDetails.language);\n\n    this.find();\n\n    bindingEngine\n      .propertyObserver(userDetails, 'language')\n      .subscribe((newValue, oldValue) => this.find(this.view, newValue));\n  }\n\n  find(view) {\n    if (view) {\n      this.view = view;\n    }\n    this.fetchClient\n      .fetch(getUri(\"workshops\", this.filter))\n      .then(response => response.json())\n      .then(json => json\n        .map(x => ({ item: x, distance: getDistance(x.address, this.userDetails.address) }))\n        .sort((x, y) => moment(x.item.startDate) - moment(y.item.startDate))\n      )\n      .then(results => this.results = results);\n  }\n\n  sortByDistance() {\n    if (this.userDetails.address) {\n      this.results.forEach(x => x.distance = getDistance(x.item.address, this.userDetails.address));\n      this.results = this.results.sort((x, y) => x.distance - y.distance);\n    }\n  }\n}\n","import {UserDetails, ReferenceData} from 'common'\nimport {I18n} from 'i18n'\n\nimport {inject, bindable, CompositionTransaction} from 'aurelia-framework'\nimport {HttpClient, json} from 'aurelia-fetch-client';\nimport {Router} from 'aurelia-router';\n\n@inject(HttpClient, CompositionTransaction, Router, UserDetails, ReferenceData, I18n)\nexport class Availabilities {\n\n\n    input = { languages: [] };\n\n    outcome;\n\n    constructor(fetchClient, compositionTransaction, router, userDetails, referenceData, i18nMessages) {\n        this.fetchClient = fetchClient;\n        this.userDetails = userDetails;\n        this.referenceData = referenceData;\n        this.i18n = (key) => i18nMessages.getMessage(\"volunteers/availabilities\", key, userDetails.language);\n        // here we use compositionTransaction because if user has account then input should be bound before the component is rendered.\n        // otherwise <multilple-select></multiple-select> starts working with a null input, which causes issues with selection.bind.\n        // So 'created'' callback must explictely call this.compositionTransactionNotifier.done() to trigger the attachement of the custom element.\n        this.compositionTransactionNotifier = compositionTransaction.enlist();\n        this.router = router;\n    }\n\n    created() {\n        let uri = \"volunteers/\" + this.userDetails.account.id;\n        this.fetchClient.fetch(uri)\n            .then(x => x.json())\n            .then(x => {\n                this.input = x;\n                this.compositionTransactionNotifier.done();\n            });\n    }\n\n    update() {\n\n        let uri = `volunteers/${this.userDetails.account.id}`\n        this.fetchClient.fetch(uri, { body: json(this.input), method: \"put\" })\n            .then(x => {\n                if (this.userDetails.lastAction == 'sign-up') {\n                    this.userDetails.lastAction = 'set-availabilities';\n                }\n                this.outcome = { status: \"ok\" }\n            })\n            .catch(e => e.json().then(x => this.outcome = { status: \"failure\", errors: x }))\n    }\n}","\nimport {inject, BindingEngine} from 'aurelia-framework';\nimport moment from 'moment';\nimport {HttpClient} from 'aurelia-fetch-client';\nimport {UserDetails, ReferenceData, getUri, getDistance, viewLocation, viewItinerary} from 'common'\n\n\n@inject(HttpClient, BindingEngine, UserDetails, ReferenceData)\nexport class Events {\n\n    results = []\n    filter = { includePastEvents: false, includeFutureEvents: true, audience: \"VOLUNTEER\" }\n    view = \"list\";\n\n    constructor(fetchClient, bindingEngine, userDetails, referenceData) {\n        this.fetchClient = fetchClient\n        this.userDetails = userDetails;\n        this.moment = moment;\n        this.viewLocation = viewLocation;\n        this.viewItinerary = viewItinerary;\n        this.referenceData = referenceData;\n        this.find();\n\n        bindingEngine\n            .propertyObserver(userDetails, 'language')\n            .subscribe((newValue, oldValue) => this.find(this.view, newValue));\n    }\n\n    find(view, language) {\n        if (view) {\n            this.view = view;\n        }\n        let userLanguage = language || this.userDetails.language;\n\n        this.fetchClient\n            .fetch(getUri(\"events\", this.filter), { headers: { \"Accept-Language\": userLanguage } })\n            .then(response => response.json())\n            .then(json => json\n                .map(x => ({ item: x, distance: getDistance(x.address, this.userDetails.address) }))\n                .sort((x, y) => moment(x.item.startDate) - moment(y.item.startDate))\n            )\n            .then(results => this.results = results);\n    }\n\n    sortByDistance() {\n        if (this.userDetails.address) {\n            this.results.forEach(x => x.distance = getDistance(x.item.address, this.userDetails.address));\n            this.results = this.results.sort((x, y) => x.distance - y.distance);\n        }\n    }\n}","import { UserDetails, ReferenceData, getUri } from 'common'\nimport {I18n} from 'i18n'\n\nimport { inject, BindingEngine } from 'aurelia-framework';\nimport { HttpClient, json } from 'aurelia-fetch-client';\n\nimport moment from 'moment'\n\n@inject(HttpClient, BindingEngine, UserDetails, I18n)\nexport class MeetingRequests {\n\n    constructor(fetchClient, bindingEngine, userDetails, i18nMessages) {\n        this.fetchClient = fetchClient;\n        this.userDetails = userDetails;\n        this.bindingEngine = bindingEngine;\n\n        this.i18n = (key) => i18nMessages.getMessage(\"volunteers/meeting-requests\", key, userDetails.language);\n    }\n    /*\n        activate(params) {\n            if (!(params.id > 0 && params.a == \"a\" && params.ak)) {\n                return;\n            }\n            if (this.userDetails.account) {\n                let uri = `volunteers/${this.userDetails.account.id}/meeting-requests/${params.id}`;\n                this.fetchClient.fetch(uri, { method: \"POST\" }).then(() => console.log(\"ok\"));\n            }\n            else {\n                bindingEngine\n                    .propertyObserver(userDetails, 'account')\n                    .subscribe((account) => {\n                        if (account && account.profile == \"V\") {\n                            let uri = `volunteers/${this.userDetails.account.id}/meeting-requests/${params.id}`;\n                            this.fetchClient.fetch(uri, { method: \"POST\" }).then(() => console.log(\"ok\"));\n                        }\n                    });\n            }\n        }*/\n    filter = { accepted: \"false\" };\n\n    created() {\n        this.find();\n    }\n\n    find() {\n        this.fetchClient\n            .fetch(getUri(`volunteers/${this.userDetails.account.id}/meeting-requests`, this.filter))\n            .then(response => response.json())\n            .then(list => this.results = list.map(x => ({ item: x, action: null, showMessages: false, messages: null })));\n    }\n\n    accept(listElement, firstContact) {\n        let uri = `volunteers/${this.userDetails.account.id}/meeting-requests/${listElement.item.id}?firstContact=${firstContact}`;\n        this.fetchClient\n            .fetch(uri, { method: \"POST\" })\n            .then(() => {\n                this.results.splice(this.results.indexOf(listElement), 1);\n            });        \n    }\n\n    delete(model) {\n        this.fetchClient\n            .fetch(getUri(`volunteers/${this.userDetails.account.id}/meeting-requests/${model.item.id}`), { method: 'delete' })\n            .then(() => {\n                this.results.splice(this.results.indexOf(model), 1);\n            });\n    }\n\n    /*\n    viewMessages(result) {\n        this.fetchClient\n            .fetch(getUri(`volunteers/${this.userDetails.account.id}/meeting-requests/${result.item.id}/messages`))\n            .then(response => response.json())\n            .then(messages => result.messages = messages);\n    }\n\n    startAccept(result) {\n        this.viewMessages(result);\n        result.action = \"accept\";\n    }\n\n    hideMessages(result) {\n        result.messages = null;\n    }\n\n    saveNewMessage(listElement, newMessage) {\n        console.log(newMessage)\n        let vId = this.userDetails.account.id;\n        let mId = listElement.item.id;\n\n        this.fetchClient\n            .fetch(getUri(`volunteers/${vId}/meeting-requests/${mId}/messages`), { method: 'post', body: json(newMessage) })\n            .then(response => response.json())\n            .then(message => {\n                newMessage.text = null;\n                listElement.messages.push(message);\n            });\n    }*/\n}\n","import {UserDetails, ReferenceData} from 'common'\nimport {I18n} from 'i18n'\n\nimport {inject} from 'aurelia-framework';\n\n\n@inject(UserDetails, ReferenceData, I18n)\nexport class Profile {\n\n    constructor(userDetails, referenceData, i18nMessages) {\n        this.referenceData = referenceData;\n        this.userDetails = userDetails;\n        this.i18n = (key) => i18nMessages.getMessage(\"volunteers/profile\", key, userDetails.language);\n    }\n}"],"sourceRoot":"../src"}