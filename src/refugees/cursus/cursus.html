<template>
   <div class="searchingContainer">
     <p class="searchDomain"> <img class="searchDomainIcon" id="cursus" src="src/icones/cursus d'apprentissage-seul.svg"/> Cursus d'apprentissage </p>
     <div class="searchCriteria" >
     <form class="searchCriteriaForm" submit.delegate="find()">
       <img id="location" src="src/icones/localisation.svg"/>
      <input class="cityCriteria" type="text" placeholder="ex:Paris" onfocus="this.placeholder = ''" onblur="this.placeholder = 'ex:Paris'" value.bind="filter.city" />
        <select class="selectMenu" value.bind="filter.levelId">
          <option value="" disabled selected>Choisissez votre niveau</option>
          <option repeat.for="x of global.referenceData.levels" value.bind="x.id">${x.name}</option>
        </select>
        <button class="searchBotton">Rechercher</button>
      </form>

     <div class="resultContainer">
       <div class="rightContainer">

         <div class="informationContainer">
           <div class="informationRight">
             Niveau de langue :
           </div>
           <div class="informationLeft">
             ${r.level}
           </div>
         </div>
         
         <div class="informationContainer">
           <div class="informationRight">
             Date de d&eacute;but :<br/>
             Date de fin :
           </div>
           <div class="informationLeft">
             ${r.startDate}<br/>
             ${r.endDate}
           </div>
         </div>

         <div class="informationContainer">
           <div class="informationRight">
             Adresse :
           </div>
           <div class="informationLeft">
             ${r.address.street1}<br/>
             ${r.address.street2}<br/>
             ${r.address.zipcode}, ${r.address.city}<br/>
             ${r.address.country}
           </div>
         </div>
         
       </div>
       <div class="leftContainer">
         <div class="informationContainer">
           <div class="informationRight">
             Organisation :
           </div>
           <div class="informationLeft">
             ${r.organisation}
           </div>
       </div>
       <div class="leftContainer">
         <div class="informationContainer">
           <div class="informationRight">
             Contact :
           </div>
           <div class="informationLeft">
             Nom : ${r.contact.name}<br/>
             T&eacute;l&eacute;phone : ${r.contact.phoneNumber}<br/>
             Mail : ${r.contact.mailAddress}
           </div>
       </div>
       <div class="leftContainer">
         <div class="informationContainer">
           <div class="informationRight">
             
           </div>
           <div class="informationLeft">
             
           </div>
       </div>
     </div>
    </div>
  </div>
</div>
    <form submit.delegate="find()">
    <input type="text" value.bind="filter.city" />
    <select value.bind="filter.levelId">
      <option/>
      <option repeat.for="x of global.referenceData.levels" value.bind="x.id">${x.name}</option>
    </select>
    <button>Rechercher</button>
  </form>
  <hr/>
  <table style="width:100%" if.bind="results.length>0">
    <thead>
      <tr>
        <td>Niveau requis</td>
        <td>Organisation</td>
        <td>Contact</td>
        <td>Ville</td>
        <td>Adresse</td>
        <td>Date d√©but</td>
        <td>Date fin</td>
      </tr>
    </thead>
    <tbody>
      <tr repeat.for="r of results">
        <td>${r.level}</td>
        <td>${r.organisation}</td>
        <td>${r.contact.name} ${r.contact.phoneNumber} ${r.contact.mailAddress}</td>
        <td>${r.address.city}</td>
        <td>${r.address.street1} ${r.address.street2} ${r.address.zipcode} ${r.address.city} ${r.address.country}</td>
        <td>${r.startDate}</td>
        <td>${r.endDate}</td>
      </tr>
    </tbody>
  </table>

</template>