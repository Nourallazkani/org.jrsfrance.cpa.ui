<template>
  <form submit.delegate="find()">
    <input type="text" value.bind="filter.city" />
    <select value.bind="filter.languageId">
      <option/>
      <option repeat.for="x of global.referenceData.languages" value.bind="x.id">${x.name}</option>
    </select>
    <select value.bind="filter.fieldOfStudyId">
      <option/>
      <option repeat.for="x of global.referenceData.fieldsOfStudy" value.bind="x.id">${x.name}</option>
    </select>
    <button>Find</button>
  </form>
  <hr/>
  <table style="width:100%" if.bind="results.length>0">
    <thead>
      <tr>
        <td>Nom</td>
        <td>Téléphone</td>
        <td>Mail</td>
        <td>Ville</td>
        <td>Spécialité</td>
        <td>Interprétariat</td>
      </tr>
    </thead>
    <tbody>
      <tr repeat.for="r of results">
        <td>${r.firstname} ${r.lastname}</td>
        <td>${r.phoneNumber}</td>
        <td>${r.mailAddress}</td>
        <td>${r.city}</td>
        <td>${r.fieldsOfStudy.join()}</td>
        <td>${r.languages.join()}</td>
      </tr>
    </tbody>
  </table>
</template>